<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>leetcode-1130 - Minimum Cost Tree From Leaf Values | 記事本</title>
<meta name=keywords content="Monotonic Stack,Greedy,Stack,Dynamic Programming"><meta name=description content="動機
Monotonic Stack在pop時當下的狀態是
7 3 2 .left. 1 .right. 2
right的數字大小一定是大於1!!
left的數字一定是等於1
代表說在這個區間1一定是最小的
但哪邊是最大? 就要比較左右兩邊了"><meta name=author content="zhengcf"><link rel=canonical href=https://littlebees.github.io/2021/08/leetcode-1130-minimum-cost-tree-from-leaf-values/><link crossorigin=anonymous href=/assets/css/stylesheet.b609c58d5c11bb90b1a54e04005d74ad1ddf22165eb79f5533967e57df9c3b50.css integrity="sha256-tgnFjVwRu5CxpU4EAF10rR3fIhZet59VM5Z+V9+cO1A=" rel="preload stylesheet" as=style><link rel=icon href=https://littlebees.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://littlebees.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://littlebees.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://littlebees.github.io/apple-touch-icon.png><link rel=mask-icon href=https://littlebees.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://littlebees.github.io/2021/08/leetcode-1130-minimum-cost-tree-from-leaf-values/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="leetcode-1130 - Minimum Cost Tree From Leaf Values"><meta property="og:description" content="動機
Monotonic Stack在pop時當下的狀態是
7 3 2 .left. 1 .right. 2
right的數字大小一定是大於1!!
left的數字一定是等於1
代表說在這個區間1一定是最小的
但哪邊是最大? 就要比較左右兩邊了"><meta property="og:type" content="article"><meta property="og:url" content="https://littlebees.github.io/2021/08/leetcode-1130-minimum-cost-tree-from-leaf-values/"><meta property="og:image" content="https://littlebees.github.io/images/papermod-cover.png"><meta property="article:section" content="posts"><meta property="article:published_time" content="2021-08-20T00:23:31+00:00"><meta property="article:modified_time" content="2021-08-20T00:23:31+00:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://littlebees.github.io/images/papermod-cover.png"><meta name=twitter:title content="leetcode-1130 - Minimum Cost Tree From Leaf Values"><meta name=twitter:description content="動機
Monotonic Stack在pop時當下的狀態是
7 3 2 .left. 1 .right. 2
right的數字大小一定是大於1!!
left的數字一定是等於1
代表說在這個區間1一定是最小的
但哪邊是最大? 就要比較左右兩邊了"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://littlebees.github.io/posts/"},{"@type":"ListItem","position":2,"name":"leetcode-1130 - Minimum Cost Tree From Leaf Values","item":"https://littlebees.github.io/2021/08/leetcode-1130-minimum-cost-tree-from-leaf-values/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"leetcode-1130 - Minimum Cost Tree From Leaf Values","name":"leetcode-1130 - Minimum Cost Tree From Leaf Values","description":"動機 Monotonic Stack在pop時當下的狀態是\n7 3 2 .left. 1 .right. 2 right的數字大小一定是大於1!! left的數字一定是等於1\n代表說在這個區間1一定是最小的 但哪邊是最大? 就要比較左右兩邊了\n","keywords":["Monotonic Stack","Greedy","Stack","Dynamic Programming"],"articleBody":"動機 Monotonic Stack在pop時當下的狀態是\n7 3 2 .left. 1 .right. 2 right的數字大小一定是大於1!! left的數字一定是等於1\n代表說在這個區間1一定是最小的 但哪邊是最大? 就要比較左右兩邊了\nProblem Given an array arr of positive integers, consider all binary trees such that:\nEach node has either 0 or 2 children;The values of arr correspond to the values of each leaf in an in-order traversal of the tree.The value of each non-leaf node is equal to the product of the largest leaf value in its left and right subtree, respectively.Among all possible binary trees considered, return the smallest possible sum of the values of each non-leaf node. It is guaranteed this sum fits into a 32-bit integer.\nA node is a leaf if and only if it has zero children.\nExample 1:\nInput: arr = [6,2,4]Output: 32Explanation: There are two possible trees shown.The first has a non-leaf node sum 36, and the second has non-leaf node sum 32.Example 2:\nInput: arr = [4,11]Output: 44 Constraints:\n2 \u003c= arr.length \u003c= 401 \u003c= arr[i] \u003c= 15It is guaranteed that the answer fits into a 32-bit signed integer (i.e., it is less than 231). Sol class Solution: def mctFromLeafValues(self, arr: List[int]) -\u003e int: stk, ret = [], 0 for n in arr: while stk and stk[-1] \u003c= n: minN = stk.pop() if stk: ret += min(stk[-1], n)*minN else: ret += minN*n stk += n, return ret+sum([a*b for a,b in zip(stk[:-1], stk[1:])],0) ","wordCount":"224","inLanguage":"en","image":"https://littlebees.github.io/images/papermod-cover.png","datePublished":"2021-08-20T00:23:31Z","dateModified":"2021-08-20T00:23:31Z","author":{"@type":"Person","name":"zhengcf"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://littlebees.github.io/2021/08/leetcode-1130-minimum-cost-tree-from-leaf-values/"},"publisher":{"@type":"Organization","name":"記事本","logo":{"@type":"ImageObject","url":"https://littlebees.github.io/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://littlebees.github.io/ accesskey=h title="記事本 (Alt + H)">記事本</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://littlebees.github.io/categories/ title=Categories><span>Categories</span></a></li><li><a href=https://littlebees.github.io/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://littlebees.github.io/tags/ title=Tags><span>Tags</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://littlebees.github.io/>Home</a>&nbsp;»&nbsp;<a href=https://littlebees.github.io/posts/>Posts</a></div><h1 class="post-title entry-hint-parent">leetcode-1130 - Minimum Cost Tree From Leaf Values</h1><div class=post-meta><span title='2021-08-20 00:23:31 +0000 UTC'>August 20, 2021</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;zhengcf</div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#%e5%8b%95%e6%a9%9f aria-label=動機>動機</a></li><li><a href=#problem aria-label=Problem>Problem</a></li><li><a href=#sol aria-label=Sol>Sol</a></li></ul></div></details></div><div class=post-content><h2 id=動機>動機<a hidden class=anchor aria-hidden=true href=#動機>#</a></h2><p>Monotonic Stack在pop時當下的狀態是</p><pre tabindex=0><code>7 3 2 .left. 1 .right. 2
</code></pre><p>right的數字大小一定是大於1!!
left的數字一定是等於1</p><p>代表說在這個區間1一定是最小的
但哪邊是最大? 就要比較左右兩邊了</p><h2 id=problem>Problem<a hidden class=anchor aria-hidden=true href=#problem>#</a></h2><p>Given an array <code>arr</code> of positive integers, consider all binary trees such that:</p><ul><li>Each node has either <code>0</code> or <code>2</code> children;</li><li>The values of <code>arr</code> correspond to the values of each <strong>leaf</strong> in an in-order traversal of the tree.</li><li>The value of each non-leaf node is equal to the product of the largest leaf value in its left and right subtree, respectively.</li></ul><p>Among all possible binary trees considered, return <em>the smallest possible sum of the values of each non-leaf node</em>. It is guaranteed this sum fits into a <strong>32-bit</strong> integer.</p><p>A node is a <strong>leaf</strong> if and only if it has zero children.</p><p> </p><p><strong>Example 1:</strong></p><img alt src=https://assets.leetcode.com/uploads/2021/08/10/tree1.jpg style=width:500px;height:169px><pre><strong>Input:</strong> arr = [6,2,4]<strong>Output:</strong> 32<strong>Explanation:</strong> There are two possible trees shown.The first has a non-leaf node sum 36, and the second has non-leaf node sum 32.</pre><p><strong>Example 2:</strong></p><img alt src=https://assets.leetcode.com/uploads/2021/08/10/tree2.jpg style=width:224px;height:145px><pre><strong>Input:</strong> arr = [4,11]<strong>Output:</strong> 44</pre><p> </p><p><strong>Constraints:</strong></p><ul><li><code>2 <= arr.length <= 40</code></li><li><code>1 <= arr[i] <= 15</code></li><li>It is guaranteed that the answer fits into a <strong>32-bit</strong> signed integer (i.e., it is less than 2<sup>31</sup>).</li></ul><h2 id=sol>Sol<a hidden class=anchor aria-hidden=true href=#sol>#</a></h2><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>Solution</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>mctFromLeafValues</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>arr</span><span class=p>:</span> <span class=n>List</span><span class=p>[</span><span class=nb>int</span><span class=p>])</span> <span class=o>-&gt;</span> <span class=nb>int</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>stk</span><span class=p>,</span> <span class=n>ret</span> <span class=o>=</span> <span class=p>[],</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=n>n</span> <span class=ow>in</span> <span class=n>arr</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=k>while</span> <span class=n>stk</span> <span class=ow>and</span> <span class=n>stk</span><span class=p>[</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span> <span class=o>&lt;=</span> <span class=n>n</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=n>minN</span> <span class=o>=</span> <span class=n>stk</span><span class=o>.</span><span class=n>pop</span><span class=p>()</span>
</span></span><span class=line><span class=cl>                <span class=k>if</span> <span class=n>stk</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                    <span class=n>ret</span> <span class=o>+=</span> <span class=nb>min</span><span class=p>(</span><span class=n>stk</span><span class=p>[</span><span class=o>-</span><span class=mi>1</span><span class=p>],</span> <span class=n>n</span><span class=p>)</span><span class=o>*</span><span class=n>minN</span>
</span></span><span class=line><span class=cl>                <span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                    <span class=n>ret</span> <span class=o>+=</span> <span class=n>minN</span><span class=o>*</span><span class=n>n</span>
</span></span><span class=line><span class=cl>            <span class=n>stk</span> <span class=o>+=</span> <span class=n>n</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>ret</span><span class=o>+</span><span class=nb>sum</span><span class=p>([</span><span class=n>a</span><span class=o>*</span><span class=n>b</span> <span class=k>for</span> <span class=n>a</span><span class=p>,</span><span class=n>b</span> <span class=ow>in</span> <span class=nb>zip</span><span class=p>(</span><span class=n>stk</span><span class=p>[:</span><span class=o>-</span><span class=mi>1</span><span class=p>],</span> <span class=n>stk</span><span class=p>[</span><span class=mi>1</span><span class=p>:])],</span><span class=mi>0</span><span class=p>)</span>
</span></span></code></pre></div></div><footer class=post-footer><ul class=post-tags><li><a href=https://littlebees.github.io/tags/monotonic-stack/>Monotonic Stack</a></li><li><a href=https://littlebees.github.io/tags/greedy/>Greedy</a></li><li><a href=https://littlebees.github.io/tags/stack/>Stack</a></li><li><a href=https://littlebees.github.io/tags/dynamic-programming/>Dynamic Programming</a></li></ul><nav class=paginav><a class=prev href=https://littlebees.github.io/2021/08/leetcode-769-max-chunks-to-make-sorted/><span class=title>« Prev</span><br><span>leetcode-769 - Max Chunks To Make Sorted</span>
</a><a class=next href=https://littlebees.github.io/2021/08/leetcode-1793-maximum-score-of-a-good-subarray/><span class=title>Next »</span><br><span>leetcode-1793 - Maximum Score of a Good Subarray</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2024 <a href=https://littlebees.github.io/>記事本</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>