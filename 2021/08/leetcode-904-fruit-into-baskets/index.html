<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>leetcode-904 - Fruit Into Baskets | 記事本</title>
<meta name=keywords content="Sliding Window,Hash Table,Array,seanprashad"><meta name=description content="動機
sliding window的重點是怎麼重用其中一邊的點"><meta name=author content="zhengcf"><link rel=canonical href=https://littlebees.github.io/2021/08/leetcode-904-fruit-into-baskets/><link crossorigin=anonymous href=/assets/css/stylesheet.b609c58d5c11bb90b1a54e04005d74ad1ddf22165eb79f5533967e57df9c3b50.css integrity="sha256-tgnFjVwRu5CxpU4EAF10rR3fIhZet59VM5Z+V9+cO1A=" rel="preload stylesheet" as=style><link rel=icon href=https://littlebees.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://littlebees.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://littlebees.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://littlebees.github.io/apple-touch-icon.png><link rel=mask-icon href=https://littlebees.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://littlebees.github.io/2021/08/leetcode-904-fruit-into-baskets/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="leetcode-904 - Fruit Into Baskets"><meta property="og:description" content="動機
sliding window的重點是怎麼重用其中一邊的點"><meta property="og:type" content="article"><meta property="og:url" content="https://littlebees.github.io/2021/08/leetcode-904-fruit-into-baskets/"><meta property="og:image" content="https://littlebees.github.io/images/papermod-cover.png"><meta property="article:section" content="posts"><meta property="article:published_time" content="2021-08-01T14:59:18+00:00"><meta property="article:modified_time" content="2021-08-01T14:59:18+00:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://littlebees.github.io/images/papermod-cover.png"><meta name=twitter:title content="leetcode-904 - Fruit Into Baskets"><meta name=twitter:description content="動機
sliding window的重點是怎麼重用其中一邊的點"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://littlebees.github.io/posts/"},{"@type":"ListItem","position":2,"name":"leetcode-904 - Fruit Into Baskets","item":"https://littlebees.github.io/2021/08/leetcode-904-fruit-into-baskets/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"leetcode-904 - Fruit Into Baskets","name":"leetcode-904 - Fruit Into Baskets","description":"動機 sliding window的重點是怎麼重用其中一邊的點\n","keywords":["Sliding Window","Hash Table","Array","seanprashad"],"articleBody":"動機 sliding window的重點是怎麼重用其中一邊的點\nProblem You are visiting a farm that has a single row of fruit trees arranged from left to right. The trees are represented by an integer array fruits where fruits[i] is the type of fruit the ith tree produces.\nYou want to collect as much fruit as possible. However, the owner has some strict rules that you must follow:\nYou only have two baskets, and each basket can only hold a single type of fruit. There is no limit on the amount of fruit each basket can hold.Starting from any tree of your choice, you must pick exactly one fruit from every tree (including the start tree) while moving to the right. The picked fruits must fit in one of your baskets.Once you reach a tree with fruit that cannot fit in your baskets, you must stop.Given the integer array fruits, return the maximum number of fruits you can pick.\nExample 1:\nInput: fruits = [1,2,1]Output: 3Explanation: We can pick from all 3 trees.Example 2:\nInput: fruits = [0,1,2,2]Output: 3Explanation: We can pick from trees [1,2,2].If we had started at the first tree, we would only pick from trees [0,1].Example 3:\nInput: fruits = [1,2,3,2,2]Output: 4Explanation: We can pick from trees [2,3,2,2].If we had started at the first tree, we would only pick from trees [1,2].Example 4:\nInput: fruits = [3,3,3,1,2,1,1,2,3,3,4]Output: 5Explanation: We can pick from trees [1,2,1,1,2]. Constraints:\n1 \u003c= fruits.length \u003c= 1050 \u003c= fruits[i] \u003c fruits.length Sol 通常會是其中一邊慢慢長，這題是起點，另一個點就一直漲一路不回頭\nclass Solution: def totalFruit(self, fs: List[int]) -\u003e int: b, cs, ret = 1, Counter(fs[0:1]), 1 # not 0!! for a in range(len(fs)): while b \u003c len(fs) and len(cs.keys()) \u003c= 2: ret = max(ret,b-a) cs.update([fs[b]]) b += 1 if b \u003e= len(fs): if len(cs.keys()) \u003c= 2: ret = max(ret,b-a) break elif len(cs.keys()) \u003e 2: if cs[fs[a]] == 1: del cs[fs[a]] else: cs.subtract([fs[a]]) return ret ","wordCount":"306","inLanguage":"en","image":"https://littlebees.github.io/images/papermod-cover.png","datePublished":"2021-08-01T14:59:18Z","dateModified":"2021-08-01T14:59:18Z","author":{"@type":"Person","name":"zhengcf"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://littlebees.github.io/2021/08/leetcode-904-fruit-into-baskets/"},"publisher":{"@type":"Organization","name":"記事本","logo":{"@type":"ImageObject","url":"https://littlebees.github.io/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://littlebees.github.io/ accesskey=h title="記事本 (Alt + H)">記事本</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://littlebees.github.io/categories/ title=Categories><span>Categories</span></a></li><li><a href=https://littlebees.github.io/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://littlebees.github.io/tags/ title=Tags><span>Tags</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://littlebees.github.io/>Home</a>&nbsp;»&nbsp;<a href=https://littlebees.github.io/posts/>Posts</a></div><h1 class="post-title entry-hint-parent">leetcode-904 - Fruit Into Baskets</h1><div class=post-meta><span title='2021-08-01 14:59:18 +0000 UTC'>August 1, 2021</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;zhengcf</div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#%e5%8b%95%e6%a9%9f aria-label=動機>動機</a></li><li><a href=#problem aria-label=Problem>Problem</a></li><li><a href=#sol aria-label=Sol>Sol</a></li></ul></div></details></div><div class=post-content><h2 id=動機>動機<a hidden class=anchor aria-hidden=true href=#動機>#</a></h2><p>sliding window的重點是怎麼重用其中一邊的點</p><h2 id=problem>Problem<a hidden class=anchor aria-hidden=true href=#problem>#</a></h2><p>You are visiting a farm that has a single row of fruit trees arranged from left to right. The trees are represented by an integer array <code>fruits</code> where <code>fruits[i]</code> is the <strong>type</strong> of fruit the <code>i<sup>th</sup></code> tree produces.</p><p>You want to collect as much fruit as possible. However, the owner has some strict rules that you must follow:</p><ul><li>You only have <strong>two</strong> baskets, and each basket can only hold a <strong>single type</strong> of fruit. There is no limit on the amount of fruit each basket can hold.</li><li>Starting from any tree of your choice, you must pick <strong>exactly one fruit</strong> from <strong>every</strong> tree (including the start tree) while moving to the right. The picked fruits must fit in one of your baskets.</li><li>Once you reach a tree with fruit that cannot fit in your baskets, you must stop.</li></ul><p>Given the integer array <code>fruits</code>, return <em>the <strong>maximum</strong> number of fruits you can pick</em>.</p><p> </p><p><strong>Example 1:</strong></p><pre><strong>Input:</strong> fruits = [<u>1,2,1</u>]<strong>Output:</strong> 3<strong>Explanation:</strong> We can pick from all 3 trees.</pre><p><strong>Example 2:</strong></p><pre><strong>Input:</strong> fruits = [0,<u>1,2,2</u>]<strong>Output:</strong> 3<strong>Explanation:</strong> We can pick from trees [1,2,2].If we had started at the first tree, we would only pick from trees [0,1].</pre><p><strong>Example 3:</strong></p><pre><strong>Input:</strong> fruits = [1,<u>2,3,2,2</u>]<strong>Output:</strong> 4<strong>Explanation:</strong> We can pick from trees [2,3,2,2].If we had started at the first tree, we would only pick from trees [1,2].</pre><p><strong>Example 4:</strong></p><pre><strong>Input:</strong> fruits = [3,3,3,<u>1,2,1,1,2</u>,3,3,4]<strong>Output:</strong> 5<strong>Explanation:</strong> We can pick from trees [1,2,1,1,2].</pre><p> </p><p><strong>Constraints:</strong></p><ul><li><code>1 <= fruits.length <= 10<sup>5</sup></code></li><li><code>0 <= fruits[i] < fruits.length</code></li></ul><h2 id=sol>Sol<a hidden class=anchor aria-hidden=true href=#sol>#</a></h2><p>通常會是其中一邊慢慢長，這題是起點，另一個點就一直漲一路不回頭</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>Solution</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>totalFruit</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>fs</span><span class=p>:</span> <span class=n>List</span><span class=p>[</span><span class=nb>int</span><span class=p>])</span> <span class=o>-&gt;</span> <span class=nb>int</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>b</span><span class=p>,</span> <span class=n>cs</span><span class=p>,</span> <span class=n>ret</span> <span class=o>=</span> <span class=mi>1</span><span class=p>,</span> <span class=n>Counter</span><span class=p>(</span><span class=n>fs</span><span class=p>[</span><span class=mi>0</span><span class=p>:</span><span class=mi>1</span><span class=p>]),</span> <span class=mi>1</span> <span class=c1># not 0!!</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=n>a</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=nb>len</span><span class=p>(</span><span class=n>fs</span><span class=p>)):</span>
</span></span><span class=line><span class=cl>            <span class=k>while</span> <span class=n>b</span> <span class=o>&lt;</span> <span class=nb>len</span><span class=p>(</span><span class=n>fs</span><span class=p>)</span> <span class=ow>and</span> <span class=nb>len</span><span class=p>(</span><span class=n>cs</span><span class=o>.</span><span class=n>keys</span><span class=p>())</span> <span class=o>&lt;=</span> <span class=mi>2</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=n>ret</span> <span class=o>=</span> <span class=nb>max</span><span class=p>(</span><span class=n>ret</span><span class=p>,</span><span class=n>b</span><span class=o>-</span><span class=n>a</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                <span class=n>cs</span><span class=o>.</span><span class=n>update</span><span class=p>([</span><span class=n>fs</span><span class=p>[</span><span class=n>b</span><span class=p>]])</span>
</span></span><span class=line><span class=cl>                <span class=n>b</span> <span class=o>+=</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>                    
</span></span><span class=line><span class=cl>            
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=n>b</span> <span class=o>&gt;=</span> <span class=nb>len</span><span class=p>(</span><span class=n>fs</span><span class=p>):</span>
</span></span><span class=line><span class=cl>                <span class=k>if</span> <span class=nb>len</span><span class=p>(</span><span class=n>cs</span><span class=o>.</span><span class=n>keys</span><span class=p>())</span> <span class=o>&lt;=</span> <span class=mi>2</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                    <span class=n>ret</span> <span class=o>=</span> <span class=nb>max</span><span class=p>(</span><span class=n>ret</span><span class=p>,</span><span class=n>b</span><span class=o>-</span><span class=n>a</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                <span class=k>break</span>
</span></span><span class=line><span class=cl>            <span class=k>elif</span> <span class=nb>len</span><span class=p>(</span><span class=n>cs</span><span class=o>.</span><span class=n>keys</span><span class=p>())</span> <span class=o>&gt;</span> <span class=mi>2</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=k>if</span> <span class=n>cs</span><span class=p>[</span><span class=n>fs</span><span class=p>[</span><span class=n>a</span><span class=p>]]</span> <span class=o>==</span> <span class=mi>1</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                    <span class=k>del</span> <span class=n>cs</span><span class=p>[</span><span class=n>fs</span><span class=p>[</span><span class=n>a</span><span class=p>]]</span>
</span></span><span class=line><span class=cl>                <span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                    <span class=n>cs</span><span class=o>.</span><span class=n>subtract</span><span class=p>([</span><span class=n>fs</span><span class=p>[</span><span class=n>a</span><span class=p>]])</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>ret</span>
</span></span></code></pre></div></div><footer class=post-footer><ul class=post-tags><li><a href=https://littlebees.github.io/tags/sliding-window/>Sliding Window</a></li><li><a href=https://littlebees.github.io/tags/hash-table/>Hash Table</a></li><li><a href=https://littlebees.github.io/tags/array/>Array</a></li><li><a href=https://littlebees.github.io/tags/seanprashad/>Seanprashad</a></li></ul><nav class=paginav><a class=prev href=https://littlebees.github.io/2021/08/leetcode-973-k-closest-points-to-origin/><span class=title>« Prev</span><br><span>leetcode-973 - K Closest Points to Origin</span>
</a><a class=next href=https://littlebees.github.io/2021/08/leetcode-658-find-k-closest-elements/><span class=title>Next »</span><br><span>leetcode-658 - Find K Closest Elements</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2024 <a href=https://littlebees.github.io/>記事本</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>