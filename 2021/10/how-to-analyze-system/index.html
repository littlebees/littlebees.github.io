<!DOCTYPE html>
<html lang="zh-tw">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.0.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">
  <meta name="google-site-verification" content="AEpTGuQAkxnTOlmfF4INDna3S660LxrkyZ4BQzVbRSw">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"littlebees.github.io","root":"/","scheme":"Muse","version":"7.8.0","exturl":true,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.json"};
  </script>

  <meta name="description" content="動機 紀錄">
<meta property="og:type" content="article">
<meta property="og:title" content="怎麼分析系統">
<meta property="og:url" content="https://littlebees.github.io/2021/10/how-to-analyze-system/index.html">
<meta property="og:site_name" content="記事本">
<meta property="og:description" content="動機 紀錄">
<meta property="og:locale" content="zh_TW">
<meta property="og:image" content="https://www.brendangregg.com/USEmethod/v480.png">
<meta property="og:image" content="https://www.brendangregg.com/USEmethod/usemethod_flow.png">
<meta property="og:image" content="https://www.brendangregg.com/TSAmethod/processlife_1000.png">
<meta property="og:image" content="https://www.brendangregg.com/TSAmethod/tsa-solaris_1200_light.png">
<meta property="article:published_time" content="2021-10-30T14:53:36.000Z">
<meta property="article:modified_time" content="2022-03-11T15:25:53.596Z">
<meta property="article:author" content="zhengcf">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://www.brendangregg.com/USEmethod/v480.png">

<link rel="canonical" href="https://littlebees.github.io/2021/10/how-to-analyze-system/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-tw'
  };
</script>

  <title>怎麼分析系統 | 記事本</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">記事本</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">寫下來，不然會忘</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>About</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
        <li class="menu-item menu-item-sitemap">

    <a href="/sitemap.xml" rel="section"><i class="fa fa-sitemap fa-fw"></i>Sitemap</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="Searching..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-tw">
    <link itemprop="mainEntityOfPage" href="https://littlebees.github.io/2021/10/how-to-analyze-system/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="zhengcf">
      <meta itemprop="description" content="想到什麼就寫什麼">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="記事本">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          怎麼分析系統
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2021-10-30 22:53:36" itemprop="dateCreated datePublished" datetime="2021-10-30T22:53:36+08:00">2021-10-30</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2022-03-11 23:25:53" itemprop="dateModified" datetime="2022-03-11T23:25:53+08:00">2022-03-11</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/System/" itemprop="url" rel="index"><span itemprop="name">System</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/System/Performance/" itemprop="url" rel="index"><span itemprop="name">Performance</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h2 id="動機-573">動機</h2>
<p>紀錄</p>
<span id="more"></span>
<h2 id="use-method">use method</h2>
<p>建立一個checklist去分析<em>system</em>的performance (bottleneck, error)<br>
checklist的項目是建立在系統resource的utilization, saturation, errors</p>
<h3 id="system">system</h3>
<p>系統有</p>
<ul>
<li>resource: 任何有限制或上限的資源
<ul>
<li>限制
<ul>
<li>software: hypervisor, container
<ul>
<li>CPU, network, mem, io</li>
</ul>
</li>
<li>hardware: 硬體本身的spec, network throughput</li>
</ul>
</li>
<li>utilization: 在一段時間，有多少時間是忙的
<ul>
<li><code>100%</code>: 有bottleneck，但要確認saturation與實際上的影響
<ul>
<li>像deadlock就是整個都會停下來</li>
</ul>
</li>
<li><code>&gt;=70%</code>
<ul>
<li>如果單位時間太長，會讓utilization少，把小的burst藏起來</li>
</ul>
</li>
</ul>
</li>
<li>saturation: 有多少工作是因為太忙無法處理的
<ul>
<li>低utilization代表沒有saturation?
<ul>
<li>也許長時間的utilization低，但是</li>
<li>短時間的burst，就可以讓utilization衝到100%!!</li>
</ul>
</li>
<li>如果有saturation就是有事，去看在queue的waiting time或是queue length</li>
</ul>
</li>
<li>errors: error events!!
<ul>
<li>有就是出事，尤其在效能低下時</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>另一個是描述系統各元件溝通與連結的<em>Functional Block Diagram</em><br>
如果不懂，找個硬體工程師吧<br>
<img src="https://www.brendangregg.com/USEmethod/v480.png" alt=""></p>
<p>可以在每個箭頭上標他們的bandwidth，有的時候光是這樣就會知道bottleneck在哪</p>
<p><img src="https://www.brendangregg.com/USEmethod/usemethod_flow.png" alt=""></p>
<h3 id="有什麼資源">有什麼資源</h3>
<ul>
<li>
<p>CPUs: sockets, cores, hardware threads (virtual CPUs)</p>
</li>
<li>
<p>Memory: capacity</p>
</li>
<li>
<p>Network interfaces</p>
</li>
<li>
<p>Storage devices: I/O, capacity</p>
</li>
<li>
<p>Controllers: storage, network cards</p>
</li>
<li>
<p>Interconnects: CPUs, memory, I/O</p>
<ul>
<li>通常不是這裡成為bottleneck，但如果是就要考慮zero-copy之類的技術</li>
</ul>
</li>
<li>
<p>mutex locks</p>
<ul>
<li>utilization: 鎖被持有多久</li>
<li>saturation: 有多少process在等</li>
</ul>
</li>
<li>
<p>thread pools</p>
<ul>
<li>utilization: 所有thread處理的時間</li>
<li>saturation: 有多少request還沒被pool受理</li>
</ul>
</li>
<li>
<p>process/thread/file descriptor capacity</p>
<ul>
<li>utilization: 有多少process被allocate (一般來說process的數量都有上限)</li>
<li>saturation: 還沒被allocation process還有多少</li>
<li>error: fork失敗之類的</li>
</ul>
</li>
</ul>
<p>有趣的是，cache不在裡面，因為cache是幫助system在高利用率與高飽和率時讓system變好的，所以USE method不會去看cache</p>
<p>USE method是看會被高utilization與高saturation搞垮的元件<br>
在跑完USE method之後可以看其他效能指標，cache miss等等</p>
<h3 id="指標">指標</h3>
<table width="100%" border="1">
<tbody><tr><th>resource</th><th>type</th><th>metric</th></tr>
<tr><td>CPU</td><td>utilization</td><td><div><div>CPU utilization (either per-CPU or a system-wide average)</div></div></td></tr>
<tr><td>CPU</td><td>saturation</td><td><div><div>run-queue length or scheduler latency(aka </div></div></td></tr>
<tr><td>Memory capacity</td><td>utilization</td><td><div><div>available free memory (system-wide)</div></div></td></tr>
<tr><td>Memory capacity</td><td>saturation</td><td><div><div>anonymous paging or thread swapping (maybe "page scanning" too)</div></div></td></tr>
<tr><td>Network interface</td><td>utilization</td><td><div><div>RX/TX throughput / max bandwidth</div></div></td></tr>
<tr><td>Storage device I/O</td><td>utilization</td><td><div><div>device busy percent</div></div></td></tr>
<tr><td>Storage device I/O</td><td>saturation</td><td><div><div>wait queue length</div></div></td></tr>
<tr><td>Storage device I/O</td><td>errors</td><td><div><div>device errors ("soft", "hard", ...)</div></div></td></tr>
</tbody>
</table>
<table width="100%" border="1">
<tbody><tr><th>resource</th><th>type</th><th>metric</th></tr>
<tr><td>CPU</td><td>errors</td><td><div><div>eg, correctable CPU cache ECC events or faulted CPUs (if the OS+HW supports that)</div></div></td></tr>
<tr><td>Memory capacity</td><td>errors</td><td><div><div>eg, failed malloc()s (although this is usually due to virtual memory exhaustion, not physical)</div></div></td></tr>
<tr><td>Network</td><td>saturation</td><td><div><div>saturation related NIC or OS events; eg "dropped", "overruns"</div></div></td></tr>
<tr><td>Storage controller</td><td>utilization</td><td><div><div>depends on the controller; it may have a max IOPS or throughput that can be checked vs current activity</div></div></td></tr>
<tr><td>CPU interconnect</td><td>utilization</td><td><div><div>per port throughput / max bandwidth (CPU performance counters)</div></div></td></tr>
<tr><td>Memory interconnect</td><td>saturation</td><td><div><div>memory stall cycles, high CPI (CPU performance counters)</div></div></td></tr>
<tr><td>I/O interconnect</td><td>utilization</td><td><div><div>bus throughput / max bandwidth (performance counters may exist on your HW; eg, Intel "uncore" events)</div></div></td></tr>
</tbody></table>
<p>單位都是 次數、一段時間的平均數<br>
另外不是所有指標都可以取得，有些指標需要自己寫程式去拿</p>
<h3 id="指令-for-linux">指令 (for linux)</h3>
<ol>
<li><code>uptime</code>
<ul>
<li>看
<ul>
<li>想用CPU的process</li>
<li>在等uninterruptible IO(disk io)的process</li>
</ul>
</li>
<li>測量時間單位: 1min, 5min, 15mins</li>
</ul>
</li>
<li><code>dmesg | tail</code>
<ul>
<li>看
<ul>
<li>error: tcp drop, oom-kill</li>
</ul>
</li>
</ul>
</li>
<li><code>vmstat 1</code>: 1秒一行
<ul>
<li><code>r</code>: 有多少想用CPU的process</li>
<li><code>free</code>: free mem</li>
<li><code>si, so</code>: swap-in, swap-out (有就是實體記憶體沒了)</li>
<li><code>us, sy, id, wa, st</code>: total cpu time
<ul>
<li>user, system(kernel), idle, wait io, stolen
<ul>
<li>可以看出cpu忙不忙 (user+system)</li>
<li>wait io可以看成idle，這可以當成idle的理由</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><code>mpstat -P ALL 1</code>: 所有cpu，1秒一行
<ul>
<li>與前面很像，但是可以看到每個virtual cpu的usage</li>
<li>這是有irq與sortirq，都是中斷，通常是用kernel處理的資料，像網路</li>
</ul>
</li>
<li><code>pidstat 1</code>
<ul>
<li>很像top，但是以時間為主</li>
<li>會列出當下再跑的process以及process的cpu時間</li>
</ul>
</li>
<li><code>iostat -xz 1</code>
<ul>
<li><code>r/s, w/s, rkB/s, wkB/s</code>: read, write的速度</li>
<li><code>await</code>: io的時間，如果比一般情況還差就是device出事</li>
<li><code>avgqu-sz</code>: 有多少req在等，大於1就是device saturation</li>
<li><code>%util</code>: Device utilization
<ul>
<li>有的dev是logic的，所以就算util 100%，背後的裝置也許很閒</li>
</ul>
</li>
</ul>
</li>
<li><code>free -m</code>
<ul>
<li>就是看有沒有0，有就是記憶體要用完了</li>
</ul>
</li>
<li><code>sar -n DEV 1</code>
<ul>
<li>看network iface的throughput</li>
</ul>
</li>
<li><code>sar -n TCP,ETCP 1</code>
<ul>
<li>看tcp connection!!
<ul>
<li><code>active/s</code>: 有多少從host出去的tcp</li>
<li><code>passive/s</code>: 有多少從remote進來的tcp</li>
<li><code>retrans/s</code>: retransmits</li>
</ul>
</li>
</ul>
</li>
<li><code>top</code>
<ul>
<li>再一次確認這裡看到的數字是不是與之前差不多</li>
<li>top是以process去排列，這樣不好觀察pattern
<ul>
<li>Ctrl-S to pause, Ctrl-Q to continue</li>
</ul>
</li>
</ul>
</li>
</ol>
<h2 id="tsa-method">tsa method</h2>
<p>tsa處理<em>thread</em>的performance</p>
<ol>
<li>觀察thread在各個state所花費的時間</li>
<li>根據各個state所花費的時間去研究root cause</li>
</ol>
<h3 id="state">state</h3>
<ul>
<li>Executing: on-CPU</li>
<li>Waiting:
<ul>
<li>Runnable: and waiting for a turn on-CPU
<ul>
<li>user (userspace)</li>
<li>kernel (kernel space)</li>
</ul>
</li>
<li>Anonymous Paging: (aka swapping) runnable, but blocked waiting for residency</li>
<li>Sleeping: waiting for I/O, including network, block, and data/text page-ins
<ul>
<li>可以依據sleep的理由往下切
<ul>
<li>storage</li>
<li>network</li>
<li>other</li>
<li>或是
<ul>
<li>uninterruptibe wait</li>
<li>interruptibe wait</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>Lock: waiting to acquire a synchronization lock (waiting on someone else)</li>
</ul>
</li>
<li>Idle: waiting for work</li>
</ul>
<p>Anonymous Paging應該往下畫<br>
<img src="https://www.brendangregg.com/TSAmethod/processlife_1000.png" alt=""></p>
<p>The Runnable, Anonymous Paging, Sleeping, and Lock states measure time spent waiting while performing work: a measure of latency.<br>
Tuning these latency states often provides the greatest wins, as their state time can be reduced to zero.</p>
<p>像是Anonymous Paging太多(應該要是趨近0才對)，就去看memory</p>
<h3 id="該看什麼-怎麼與system相關">該看什麼 (怎麼與system相關)</h3>
<table border="1" class="p __reading_mode_data_table_class" __reading_mode_is_table_layout_created="true">
<tbody><tr><th>State</th><th>Description</th><th>Investigate</th></tr>
<tr><td><b>Executing</b></td><td>Running on-CPU</td><td>Split into user and system time.
For user time, use CPU profilers to identify hot code paths.
For system time, examine syscall rates, and profile kernel CPU time. Profiling can include <span class="exturl" data-url="aHR0cHM6Ly93d3cuYnJlbmRhbmdyZWdnLmNvbS9mbGFtZWdyYXBocy5odG1s">Flame Graphs<i class="fa fa-external-link-alt"></i></span>. Note that CPU time can include spinning on a lock.</td></tr>
<tr><td><b>Runnable</b></td><td>Run queue latency</td><td>Check system-wide CPU utilization and saturation, for both physical CPUs and any imposed resource controls (eg, USE Method). Check for any processor binding, which can affect CPU scheduling.</td></tr>
<tr><td><b>Anonymous Paging</b></td><td>Runnable, but either swapped-out or paged-out, and waiting for residency</td><td>Check system-wide main memory availability. Also check for any resource control limiting memory usage. Saturation metrics can be studied: paging and swapping (eg, following the USE Method).</td></tr>
<tr><td><b>Sleeping</b></td><td>Waiting for I/O, including network, block, and data/text page-ins</td><td>Check syscalls, resource usage, thread blocking. Syscalls: identify time in syscalls and identify the related resource; also check for mmap() usage and non-syscall I/O via mappings. Resource usage: eg, the USE Method to identify busy resources. Thread blocking: trace scheduler off-CPU events with user  and kernel stacks to identify reason; see <span class="exturl" data-url="aHR0cHM6Ly93d3cuYnJlbmRhbmdyZWdnLmNvbS9vZmZjcHVhbmFseXNpcy5odG1s">Off-CPU Performance Analysis<i class="fa fa-external-link-alt"></i></span>.</td></tr>
<tr><td><b>Lock</b></td><td>Waiting to acquire a synchronization lock (waiting on someone else)</td><td>Identify the lock the thread is waiting on, and the reason it took time to acquire. Lock analysis.</td></tr>
<tr><td><b>Idle</b></td><td>Waiting for work</td><td>Check the client load applied.</td></tr>
</tbody></table>
<p>下面是Solaris的例子<br>
<img src="https://www.brendangregg.com/TSAmethod/tsa-solaris_1200_light.png" alt=""></p>
<h2 id="Ref-94">Ref</h2>
<p><span class="exturl" data-url="aHR0cHM6Ly93d3cuYnJlbmRhbmdyZWdnLmNvbS91c2VtZXRob2QuaHRtbA==">The USE Method<i class="fa fa-external-link-alt"></i></span><br>
<span class="exturl" data-url="aHR0cHM6Ly93d3cuYnJlbmRhbmdyZWdnLmNvbS90c2FtZXRob2QuaHRtbA==">The TSA Method<i class="fa fa-external-link-alt"></i></span><br>
<span class="exturl" data-url="aHR0cHM6Ly9uZXRmbGl4dGVjaGJsb2cuY29tL2xpbnV4LXBlcmZvcm1hbmNlLWFuYWx5c2lzLWluLTYwLTAwMC1taWxsaXNlY29uZHMtYWNjYzEwNDAzYzU1">Linux Performance Analysis in 60,000 Milliseconds<i class="fa fa-external-link-alt"></i></span><br>
<span class="exturl" data-url="aHR0cHM6Ly9uZXRmbGl4dGVjaGJsb2cuY29tL25ldGZsaXgtYXQtdmVsb2NpdHktMjAxNS1saW51eC1wZXJmb3JtYW5jZS10b29scy01MTk2NGRkYjgxY2Y=">Netflix at Velocity 2015: Linux Performance Tools<i class="fa fa-external-link-alt"></i></span></p>

    </div>

    
    
    

      <footer class="post-footer">

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2021/10/systemd/" rel="prev" title="systemd">
      <i class="fa fa-chevron-left"></i> systemd
    </a></div>
      <div class="post-nav-item">
    <a href="/2021/10/eng-writing-resources/" rel="next" title="英文寫作教學資源">
      英文寫作教學資源 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8B%95%E6%A9%9F-573"><span class="nav-number">1.</span> <span class="nav-text">動機</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#use-method"><span class="nav-number">2.</span> <span class="nav-text">use method</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#system"><span class="nav-number">2.1.</span> <span class="nav-text">system</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%9C%89%E4%BB%80%E9%BA%BC%E8%B3%87%E6%BA%90"><span class="nav-number">2.2.</span> <span class="nav-text">有什麼資源</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%8C%87%E6%A8%99"><span class="nav-number">2.3.</span> <span class="nav-text">指標</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%8C%87%E4%BB%A4-for-linux"><span class="nav-number">2.4.</span> <span class="nav-text">指令 (for linux)</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#tsa-method"><span class="nav-number">3.</span> <span class="nav-text">tsa method</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#state"><span class="nav-number">3.1.</span> <span class="nav-text">state</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%A9%B2%E7%9C%8B%E4%BB%80%E9%BA%BC-%E6%80%8E%E9%BA%BC%E8%88%87system%E7%9B%B8%E9%97%9C"><span class="nav-number">3.2.</span> <span class="nav-text">該看什麼 (怎麼與system相關)</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Ref-94"><span class="nav-number">4.</span> <span class="nav-text">Ref</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">zhengcf</p>
  <div class="site-description" itemprop="description">想到什麼就寫什麼</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">686</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">79</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">64</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">zhengcf</span>
</div>
  <div class="powered-by">Powered by <span class="exturl theme-link" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span> & <span class="exturl theme-link" data-url="aHR0cHM6Ly9tdXNlLnRoZW1lLW5leHQub3Jn">NexT.Muse</span>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  
  <script src="//cdn.jsdelivr.net/npm/quicklink@1/dist/quicklink.umd.js"></script>
  <script>
      window.addEventListener('load', () => {
      quicklink({
        timeout : 1000,
        priority: true,
        ignores : [uri => uri.includes('#'),uri => uri === 'https://littlebees.github.io/2021/10/how-to-analyze-system/',]
      });
      });
  </script>

</body>
</html>
