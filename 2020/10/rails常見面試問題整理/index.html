<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>rails常見面試問題整理 | 記事本</title>
<meta name=keywords content><meta name=description content="動機
也許有需要，也複習一下rails"><meta name=author content="zhengcf"><link rel=canonical href=https://littlebees.github.io/2020/10/rails%E5%B8%B8%E8%A6%8B%E9%9D%A2%E8%A9%A6%E5%95%8F%E9%A1%8C%E6%95%B4%E7%90%86/><link crossorigin=anonymous href=/assets/css/stylesheet.b609c58d5c11bb90b1a54e04005d74ad1ddf22165eb79f5533967e57df9c3b50.css integrity="sha256-tgnFjVwRu5CxpU4EAF10rR3fIhZet59VM5Z+V9+cO1A=" rel="preload stylesheet" as=style><link rel=icon href=https://littlebees.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://littlebees.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://littlebees.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://littlebees.github.io/apple-touch-icon.png><link rel=mask-icon href=https://littlebees.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://littlebees.github.io/2020/10/rails%E5%B8%B8%E8%A6%8B%E9%9D%A2%E8%A9%A6%E5%95%8F%E9%A1%8C%E6%95%B4%E7%90%86/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="rails常見面試問題整理"><meta property="og:description" content="動機
也許有需要，也複習一下rails"><meta property="og:type" content="article"><meta property="og:url" content="https://littlebees.github.io/2020/10/rails%E5%B8%B8%E8%A6%8B%E9%9D%A2%E8%A9%A6%E5%95%8F%E9%A1%8C%E6%95%B4%E7%90%86/"><meta property="og:image" content="https://littlebees.github.io/images/papermod-cover.png"><meta property="article:section" content="posts"><meta property="article:published_time" content="2020-10-05T00:52:20+00:00"><meta property="article:modified_time" content="2020-10-05T00:52:20+00:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://littlebees.github.io/images/papermod-cover.png"><meta name=twitter:title content="rails常見面試問題整理"><meta name=twitter:description content="動機
也許有需要，也複習一下rails"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://littlebees.github.io/posts/"},{"@type":"ListItem","position":2,"name":"rails常見面試問題整理","item":"https://littlebees.github.io/2020/10/rails%E5%B8%B8%E8%A6%8B%E9%9D%A2%E8%A9%A6%E5%95%8F%E9%A1%8C%E6%95%B4%E7%90%86/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"rails常見面試問題整理","name":"rails常見面試問題整理","description":"動機 也許有需要，也複習一下rails\n","keywords":[],"articleBody":"動機 也許有需要，也複習一下rails\n||= foo, bar = [], 1 foo ||= bar # foo = foo || bar foo 這邊弔詭的是false value，也就是什麼value會被視為false hash default value default value不會自己被copy喔\n還有後面看到的值寫不進去hash，應該牽涉到ruby處理method call的方式\na = hsh[:something] a.send(:=, val) hsh = Hash.new([]) hsh[:one] \u003c\u003c 'one' hsh[:two] \u003c\u003c 'two' hsh[:nonexistent] # =\u003e ['one', 'two'] hsh # =\u003e {} hsh = Hash.new([]) hsh[:one] += ['one'] hsh[:two] += ['two'] # This is syntactic sugar for hsh[:two] = hsh[:two] + ['two'] hsh[:nonexistant] # =\u003e [] hsh # =\u003e { :one =\u003e ['one'], :two =\u003e ['two'] } hsh = Hash.new { [] } # This time, instead of a default *value*, we use a default *block* hsh[:one] \u003c\u003c 'one' hsh[:two] \u003c\u003c 'two' hsh[:nonexistent] # =\u003e [] # We *did* mutate the default value, but it was a fresh one every time. hsh # =\u003e {} # But we never mutated the hash itself, therefore it is still empty! hsh = Hash.new {|hsh, key| hsh[key] = [] } hsh[:one] \u003c\u003c 'one' hsh[:two] \u003c\u003c 'two' hsh[:nonexistent] # =\u003e [] # We *did* mutate the default value, but it was a fresh one every time. hsh # =\u003e { :one =\u003e ['one'], :two =\u003e ['two'], :nonexistent =\u003e [] } proc \u0026 lambda \u0026 block block沒有apply的一串代碼 lambda正常的lambda proc有點像macro(可以當成裡面的code複製貼上)，但有自己的scope\ndef whowouldwin mylambda = lambda {return \"Freddy\"} mylambda.call # mylambda gets called and returns \"Freddy\", and execution # continues on the next line return \"Jason\" end whowouldwin #=\u003e \"Jason\" # Proc returns control not just from the proc, but also from the method enclosing the proc! def whowouldwin2 myproc = Proc.new {return \"Freddy\"} myproc.call # myproc gets called and returns \"Freddy\", # but also returns control from whowhouldwin2! # The line below *never* gets executed. return \"Jason\" end whowouldwin2 #=\u003e \"Freddy\" equal == : 值 eql? : 值 \u0026 type equal? : 記憶體位置 === : lhs.includes?(rhs) p Fixnum === 1 # =\u003e true p 1 === Fixnum # =\u003e false p 100 == 100.0 # =\u003e true p 100.eql? 100.0 # =\u003e false tap 就是把instance丟到block中跑再丟回原本的instance\n# x 就是物件，caller，或是receiver (1..5).tap { |x| puts \"element: #{x.inspect}\" }.to_a # =\u003e element: 1..5 .tap { |x| puts \"array: #{x.inspect}\" } # =\u003e array: [1, 2, 3, 4, 5] .select { |x| x%2 == 0 } .tap{ |x| puts \"evens: #{x.inspect}\" } # =\u003e evens: [2, 4] .map{ |x| x*x } .tap{ |x| puts \"squares: #{x.inspect}\" } # =\u003e squares: [4, 16] Present and exist present: 看是不是false value\n[ \"\", \" \", false, nil, [], {} ].any?(\u0026:present?) # =\u003e false 用在orm上會悲劇\nUser.where(name: 'mike').present? # User Load (8.1ms) SELECT \"users\".* FROM \"users\" WHERE \"users\".\"name\" = $1 ORDER BY users.id ASC [[\"name\", 'mike']] exist: 基本上是用在orm上，看有沒有row存在\nUser.exists?(name: 'mike') # User Exists (2.4ms) SELECT 1 AS one FROM \"users\" WHERE \"users\".\"name\" = $1 ORDER BY users.id ASC LIMIT 1 [[\"name\", 'mike']] # 如果是any? 1 AS one的部分會變成COUNT(*) freeze freeze可以當成c++的const\n所以會有\nint* - pointer to int int const * - pointer to const int int * const - const pointer to int 就是在Pointer上的const或是在pointer內容的const\nN+1 query class User \u003c ActiveRecord::Base has_many :clients end class Client \u003c ActiveRecord::Base has_many :contacts belongs_to :user end class Contact \u003c ActiveRecord::Base belongs_to :client end @contacts = @user.clients.includes( :contact ) class Post \u003c ActiveRecord::Base has_many :comments belongs_to :user end class Comment \u003c ActiveRecord::Base has_many :replies belongs_to :user end class Reply \u003c ActiveRecord::Base belongs_to :user end class User \u003c ActiveRecord::Base has_many :posts has_many :comments has_many :replies end # 不包含user Post.includes(:comments =\u003e [:replies]) # 包含user Post.includes(:user, :comments= \u003e [:user, {:replies =\u003e [:user]}]) 如果是在別的table的東西就可以先用includes來preload\ntest data: fixture \u0026 factory bot Rails內建有Fixture功能可以建立假資料，方法是為每個Model使用一份YAML資料。 Fixture的缺點是它是直接插入資料進資料庫而不使用ActiveRecord，對於複雜的Model資料建構或關連，會比較麻煩。\nFactoryGirl這套工具，相較於Fixture的缺點是建構速度較慢。\norder = FactoryBot.create( :order, line_items: [FactoryBot.create(:line_item, price_cents: 40000)], payments: [FactoryBot.create(:payment, amount_cents: 40000)] ) # orders.yml payments_equal_line_item_total: # no attributes needed # line_items.yml electric_dog_polisher: order: payments_equal_line_item_total name: 'Electric dog polisher' price_cents: 40000 # payment_methods.yml visa: name: 'Visa' # payments.yml first: order: payments_equal_line_item_total payment_method: visa amount_cents: 40000 # order = orders(:payments_equal_line_item_total) RESTful \u0026 CURD 這裡可以看成對array操作 像\narr # events_path, GET arr[i] # event_path(@event), GET arr \u003c\u003c \"something\" # events_path, POST arr.delete(i) # event_path(@event), DELETE arr.update(i, \"something\") # event_path(@event), PATCH/PUT 那為什麼需要\nedit_event_path(@event) new_event_path event_path(@event) 的GET\n因為我們透過網頁與user互動，把input轉成資料再調用診真正的action\nhelper GET POST PATCH/PUT DELETE event_path(@event) /events/1 : show action /events/1 : update action /events/1 : destroy action events_path /events : index action /events : create action edit_event_path(@event) /events/1/edit : edit action new_event_path /events/new : new action how to handle req \u0026 header orm callback Ref 菜鳥Rails工作面試初體驗 Jr. Ruby on Rails Engineer面試初體驗（上） See also: 我的中高階 Rails 工作面試心得分享 面試 interview Ruby 重要概念整理 Ruby hash default value behavior Ruby面試精選30題 - Day29 Ruby的tap method Ruby面試精選30題 - Day23 Ruby的’==’，’===’ ’eql?’ ’equal?’ When to use lambda, when to use Proc.new? Web, Rails, 用巢狀include和查表方式來避免 n+1 query A Visual Guide to Using :includes in Rails Ruby on Rails 實戰聖經 Factories and fixtures in Rails See also: Fast Ruby\n","wordCount":"768","inLanguage":"en","image":"https://littlebees.github.io/images/papermod-cover.png","datePublished":"2020-10-05T00:52:20Z","dateModified":"2020-10-05T00:52:20Z","author":{"@type":"Person","name":"zhengcf"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://littlebees.github.io/2020/10/rails%E5%B8%B8%E8%A6%8B%E9%9D%A2%E8%A9%A6%E5%95%8F%E9%A1%8C%E6%95%B4%E7%90%86/"},"publisher":{"@type":"Organization","name":"記事本","logo":{"@type":"ImageObject","url":"https://littlebees.github.io/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://littlebees.github.io/ accesskey=h title="記事本 (Alt + H)">記事本</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://littlebees.github.io/categories/ title=Categories><span>Categories</span></a></li><li><a href=https://littlebees.github.io/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://littlebees.github.io/tags/ title=Tags><span>Tags</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://littlebees.github.io/>Home</a>&nbsp;»&nbsp;<a href=https://littlebees.github.io/posts/>Posts</a></div><h1 class="post-title entry-hint-parent">rails常見面試問題整理</h1><div class=post-meta><span title='2020-10-05 00:52:20 +0000 UTC'>October 5, 2020</span>&nbsp;·&nbsp;4 min&nbsp;·&nbsp;zhengcf</div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#%e5%8b%95%e6%a9%9f aria-label=動機>動機</a></li><li><a href=#heading aria-label="||=">||=</a></li><li><a href=#hash-default-value aria-label="hash default value">hash default value</a></li><li><a href=#proc--lambda--block aria-label="proc & lambda & block">proc & lambda & block</a></li><li><a href=#equal aria-label=equal>equal</a></li><li><a href=#tap aria-label=tap>tap</a></li><li><a href=#present-and-exist aria-label="Present and exist">Present and exist</a></li><li><a href=#freeze aria-label=freeze>freeze</a></li><li><a href=#n1-query aria-label="N+1 query">N+1 query</a></li><li><a href=#test-data-fixture--factory-bot aria-label="test data: fixture & factory bot">test data: fixture & factory bot</a></li><li><a href=#restful--curd aria-label="RESTful & CURD">RESTful & CURD</a></li><li><a href=#how-to-handle-req--header aria-label="how to handle req & header">how to handle req & header</a></li><li><a href=#orm-callback aria-label="orm callback">orm callback</a></li><li><a href=#ref aria-label=Ref>Ref</a></li></ul></div></details></div><div class=post-content><h2 id=動機>動機<a hidden class=anchor aria-hidden=true href=#動機>#</a></h2><p>也許有需要，也複習一下rails</p><h2 id=heading>||=<a hidden class=anchor aria-hidden=true href=#heading>#</a></h2><div class=highlight><pre tabindex=0 class=chroma><code class=language-ruby data-lang=ruby><span class=line><span class=cl><span class=n>foo</span><span class=p>,</span> <span class=n>bar</span> <span class=o>=</span> <span class=o>[]</span><span class=p>,</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl><span class=n>foo</span> <span class=o>||=</span> <span class=n>bar</span> <span class=c1># foo = foo || bar</span>
</span></span><span class=line><span class=cl><span class=n>foo</span>
</span></span></code></pre></div><p>這邊弔詭的是false value，也就是什麼value會被視為false
<img loading=lazy src=https://miro.medium.com/max/1556/1*OidN-FgP93gWq8MoJOG5dw.png alt></p><h2 id=hash-default-value>hash default value<a hidden class=anchor aria-hidden=true href=#hash-default-value>#</a></h2><p>default value不會自己被copy喔</p><p>還有後面看到的值寫不進去hash，應該牽涉到ruby處理method call的方式</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-ruby data-lang=ruby><span class=line><span class=cl><span class=n>a</span> <span class=o>=</span> <span class=n>hsh</span><span class=o>[</span><span class=ss>:something</span><span class=o>]</span>
</span></span><span class=line><span class=cl><span class=n>a</span><span class=o>.</span><span class=n>send</span><span class=p>(:</span><span class=o>=</span><span class=p>,</span> <span class=n>val</span><span class=p>)</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-ruby data-lang=ruby><span class=line><span class=cl><span class=n>hsh</span> <span class=o>=</span> <span class=no>Hash</span><span class=o>.</span><span class=n>new</span><span class=p>(</span><span class=o>[]</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>hsh</span><span class=o>[</span><span class=ss>:one</span><span class=o>]</span> <span class=o>&lt;&lt;</span> <span class=s1>&#39;one&#39;</span>
</span></span><span class=line><span class=cl><span class=n>hsh</span><span class=o>[</span><span class=ss>:two</span><span class=o>]</span> <span class=o>&lt;&lt;</span> <span class=s1>&#39;two&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>hsh</span><span class=o>[</span><span class=ss>:nonexistent</span><span class=o>]</span>
</span></span><span class=line><span class=cl><span class=c1># =&gt; [&#39;one&#39;, &#39;two&#39;]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>hsh</span>
</span></span><span class=line><span class=cl><span class=c1># =&gt; {}</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-ruby data-lang=ruby><span class=line><span class=cl><span class=n>hsh</span> <span class=o>=</span> <span class=no>Hash</span><span class=o>.</span><span class=n>new</span><span class=p>(</span><span class=o>[]</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>hsh</span><span class=o>[</span><span class=ss>:one</span><span class=o>]</span> <span class=o>+=</span> <span class=o>[</span><span class=s1>&#39;one&#39;</span><span class=o>]</span>
</span></span><span class=line><span class=cl><span class=n>hsh</span><span class=o>[</span><span class=ss>:two</span><span class=o>]</span> <span class=o>+=</span> <span class=o>[</span><span class=s1>&#39;two&#39;</span><span class=o>]</span>
</span></span><span class=line><span class=cl><span class=c1># This is syntactic sugar for hsh[:two] = hsh[:two] + [&#39;two&#39;]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>hsh</span><span class=o>[</span><span class=ss>:nonexistant</span><span class=o>]</span>
</span></span><span class=line><span class=cl><span class=c1># =&gt; []</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>hsh</span>
</span></span><span class=line><span class=cl><span class=c1># =&gt; { :one =&gt; [&#39;one&#39;], :two =&gt; [&#39;two&#39;] }</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-ruby data-lang=ruby><span class=line><span class=cl><span class=n>hsh</span> <span class=o>=</span> <span class=no>Hash</span><span class=o>.</span><span class=n>new</span> <span class=p>{</span> <span class=o>[]</span> <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=c1># This time, instead of a default *value*, we use a default *block*</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>hsh</span><span class=o>[</span><span class=ss>:one</span><span class=o>]</span> <span class=o>&lt;&lt;</span> <span class=s1>&#39;one&#39;</span>
</span></span><span class=line><span class=cl><span class=n>hsh</span><span class=o>[</span><span class=ss>:two</span><span class=o>]</span> <span class=o>&lt;&lt;</span> <span class=s1>&#39;two&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>hsh</span><span class=o>[</span><span class=ss>:nonexistent</span><span class=o>]</span>
</span></span><span class=line><span class=cl><span class=c1># =&gt; []</span>
</span></span><span class=line><span class=cl><span class=c1># We *did* mutate the default value, but it was a fresh one every time.</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>hsh</span>
</span></span><span class=line><span class=cl><span class=c1># =&gt; {}</span>
</span></span><span class=line><span class=cl><span class=c1># But we never mutated the hash itself, therefore it is still empty!</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-ruby data-lang=ruby><span class=line><span class=cl><span class=n>hsh</span> <span class=o>=</span> <span class=no>Hash</span><span class=o>.</span><span class=n>new</span> <span class=p>{</span><span class=o>|</span><span class=n>hsh</span><span class=p>,</span> <span class=n>key</span><span class=o>|</span> <span class=n>hsh</span><span class=o>[</span><span class=n>key</span><span class=o>]</span> <span class=o>=</span> <span class=o>[]</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>hsh</span><span class=o>[</span><span class=ss>:one</span><span class=o>]</span> <span class=o>&lt;&lt;</span> <span class=s1>&#39;one&#39;</span>
</span></span><span class=line><span class=cl><span class=n>hsh</span><span class=o>[</span><span class=ss>:two</span><span class=o>]</span> <span class=o>&lt;&lt;</span> <span class=s1>&#39;two&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>hsh</span><span class=o>[</span><span class=ss>:nonexistent</span><span class=o>]</span>
</span></span><span class=line><span class=cl><span class=c1># =&gt; []</span>
</span></span><span class=line><span class=cl><span class=c1># We *did* mutate the default value, but it was a fresh one every time.</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>hsh</span>
</span></span><span class=line><span class=cl><span class=c1># =&gt; { :one =&gt; [&#39;one&#39;], :two =&gt; [&#39;two&#39;], :nonexistent =&gt; [] }</span>
</span></span></code></pre></div><h2 id=proc--lambda--block>proc & lambda & block<a hidden class=anchor aria-hidden=true href=#proc--lambda--block>#</a></h2><p>block沒有apply的一串代碼
lambda正常的lambda
proc有點像macro(可以當成裡面的code複製貼上)，但有自己的scope</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-ruby data-lang=ruby><span class=line><span class=cl><span class=k>def</span> <span class=nf>whowouldwin</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=n>mylambda</span> <span class=o>=</span> <span class=nb>lambda</span> <span class=p>{</span><span class=k>return</span> <span class=s2>&#34;Freddy&#34;</span><span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=n>mylambda</span><span class=o>.</span><span class=n>call</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=c1># mylambda gets called and returns &#34;Freddy&#34;, and execution</span>
</span></span><span class=line><span class=cl>  <span class=c1># continues on the next line</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=s2>&#34;Jason&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>end</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>whowouldwin</span>
</span></span><span class=line><span class=cl><span class=c1>#=&gt; &#34;Jason&#34;</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-ruby data-lang=ruby><span class=line><span class=cl><span class=c1># Proc returns control not just from the proc, but also from the method enclosing the proc!</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>whowouldwin2</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=n>myproc</span> <span class=o>=</span> <span class=no>Proc</span><span class=o>.</span><span class=n>new</span> <span class=p>{</span><span class=k>return</span> <span class=s2>&#34;Freddy&#34;</span><span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=n>myproc</span><span class=o>.</span><span class=n>call</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=c1># myproc gets called and returns &#34;Freddy&#34;, </span>
</span></span><span class=line><span class=cl>  <span class=c1># but also returns control from whowhouldwin2!</span>
</span></span><span class=line><span class=cl>  <span class=c1># The line below *never* gets executed.</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=s2>&#34;Jason&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>end</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>whowouldwin2</span>         
</span></span><span class=line><span class=cl><span class=c1>#=&gt; &#34;Freddy&#34;</span>
</span></span></code></pre></div><h2 id=equal>equal<a hidden class=anchor aria-hidden=true href=#equal>#</a></h2><ul><li>== : 值</li><li>eql? : 值 & type</li><li>equal? : 記憶體位置</li><li>=== : lhs.includes?(rhs)</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-ruby data-lang=ruby><span class=line><span class=cl><span class=nb>p</span> <span class=no>Fixnum</span> <span class=o>===</span> <span class=mi>1</span> <span class=c1># =&gt; true</span>
</span></span><span class=line><span class=cl><span class=nb>p</span> <span class=mi>1</span> <span class=o>===</span> <span class=no>Fixnum</span> <span class=c1># =&gt; false</span>
</span></span><span class=line><span class=cl><span class=nb>p</span> <span class=mi>100</span> <span class=o>==</span> <span class=mi>100</span><span class=o>.</span><span class=mi>0</span> <span class=c1># =&gt; true</span>
</span></span><span class=line><span class=cl><span class=nb>p</span> <span class=mi>100</span><span class=o>.</span><span class=n>eql?</span> <span class=mi>100</span><span class=o>.</span><span class=mi>0</span> <span class=c1># =&gt; false</span>
</span></span></code></pre></div><h2 id=tap>tap<a hidden class=anchor aria-hidden=true href=#tap>#</a></h2><p>就是把instance丟到block中跑再丟回原本的instance</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-ruby data-lang=ruby><span class=line><span class=cl><span class=c1># x 就是物件，caller，或是receiver</span>
</span></span><span class=line><span class=cl><span class=p>(</span><span class=mi>1</span><span class=o>..</span><span class=mi>5</span><span class=p>)</span><span class=o>.</span><span class=n>tap</span> <span class=p>{</span> <span class=o>|</span><span class=n>x</span><span class=o>|</span> <span class=nb>puts</span> <span class=s2>&#34;element: </span><span class=si>#{</span><span class=n>x</span><span class=o>.</span><span class=n>inspect</span><span class=si>}</span><span class=s2>&#34;</span> <span class=p>}</span><span class=o>.</span><span class=n>to_a</span>
</span></span><span class=line><span class=cl>  <span class=c1># =&gt; element: 1..5</span>
</span></span><span class=line><span class=cl>  <span class=o>.</span><span class=n>tap</span> <span class=p>{</span> <span class=o>|</span><span class=n>x</span><span class=o>|</span> <span class=nb>puts</span> <span class=s2>&#34;array: </span><span class=si>#{</span><span class=n>x</span><span class=o>.</span><span class=n>inspect</span><span class=si>}</span><span class=s2>&#34;</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=c1># =&gt; array: [1, 2, 3, 4, 5]</span>
</span></span><span class=line><span class=cl>  <span class=o>.</span><span class=n>select</span> <span class=p>{</span> <span class=o>|</span><span class=n>x</span><span class=o>|</span> <span class=n>x</span><span class=o>%</span><span class=mi>2</span> <span class=o>==</span> <span class=mi>0</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=o>.</span><span class=n>tap</span><span class=p>{</span> <span class=o>|</span><span class=n>x</span><span class=o>|</span> <span class=nb>puts</span> <span class=s2>&#34;evens: </span><span class=si>#{</span><span class=n>x</span><span class=o>.</span><span class=n>inspect</span><span class=si>}</span><span class=s2>&#34;</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>   <span class=c1># =&gt; evens: [2, 4]</span>
</span></span><span class=line><span class=cl>  <span class=o>.</span><span class=n>map</span><span class=p>{</span> <span class=o>|</span><span class=n>x</span><span class=o>|</span> <span class=n>x</span><span class=o>*</span><span class=n>x</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=o>.</span><span class=n>tap</span><span class=p>{</span> <span class=o>|</span><span class=n>x</span><span class=o>|</span> <span class=nb>puts</span> <span class=s2>&#34;squares: </span><span class=si>#{</span><span class=n>x</span><span class=o>.</span><span class=n>inspect</span><span class=si>}</span><span class=s2>&#34;</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>   <span class=c1># =&gt; squares: [4, 16]</span>
</span></span></code></pre></div><h2 id=present-and-exist>Present and exist<a hidden class=anchor aria-hidden=true href=#present-and-exist>#</a></h2><p>present: 看是不是false value</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-ruby data-lang=ruby><span class=line><span class=cl><span class=o>[</span> <span class=s2>&#34;&#34;</span><span class=p>,</span> <span class=s2>&#34; &#34;</span><span class=p>,</span> <span class=kp>false</span><span class=p>,</span> <span class=kp>nil</span><span class=p>,</span> <span class=o>[]</span><span class=p>,</span> <span class=p>{}</span> <span class=o>].</span><span class=n>any?</span><span class=p>(</span><span class=o>&amp;</span><span class=ss>:present?</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1># =&gt; false</span>
</span></span></code></pre></div><p>用在orm上會悲劇</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-ruby data-lang=ruby><span class=line><span class=cl><span class=no>User</span><span class=o>.</span><span class=n>where</span><span class=p>(</span><span class=nb>name</span><span class=p>:</span> <span class=s1>&#39;mike&#39;</span><span class=p>)</span><span class=o>.</span><span class=n>present?</span>
</span></span><span class=line><span class=cl><span class=c1># User Load (8.1ms) SELECT &#34;users&#34;.* FROM &#34;users&#34; WHERE &#34;users&#34;.&#34;name&#34; = $1 ORDER BY users.id ASC  [[&#34;name&#34;, &#39;mike&#39;]]</span>
</span></span></code></pre></div><p>exist: 基本上是用在orm上，看有沒有row存在</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-ruby data-lang=ruby><span class=line><span class=cl><span class=no>User</span><span class=o>.</span><span class=n>exists?</span><span class=p>(</span><span class=nb>name</span><span class=p>:</span> <span class=s1>&#39;mike&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1># User Exists (2.4ms)  SELECT 1 AS one FROM &#34;users&#34; WHERE &#34;users&#34;.&#34;name&#34; = $1 ORDER BY users.id ASC LIMIT 1  [[&#34;name&#34;, &#39;mike&#39;]]</span>
</span></span><span class=line><span class=cl><span class=c1># 如果是any? 1 AS one的部分會變成COUNT(*)</span>
</span></span></code></pre></div><h2 id=freeze>freeze<a hidden class=anchor aria-hidden=true href=#freeze>#</a></h2><p>freeze可以當成c++的const</p><p>所以會有</p><ul><li><code>int*</code> - pointer to int</li><li><code>int const *</code> - pointer to const int</li><li><code>int * const</code> - const pointer to int</li></ul><p>就是在Pointer上的const或是在pointer內容的const</p><h2 id=n1-query>N+1 query<a hidden class=anchor aria-hidden=true href=#n1-query>#</a></h2><div class=highlight><pre tabindex=0 class=chroma><code class=language-ruby data-lang=ruby><span class=line><span class=cl><span class=k>class</span> <span class=nc>User</span> <span class=o>&lt;</span> <span class=no>ActiveRecord</span><span class=o>::</span><span class=no>Base</span>
</span></span><span class=line><span class=cl>  <span class=n>has_many</span> <span class=ss>:clients</span>
</span></span><span class=line><span class=cl><span class=k>end</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>Client</span> <span class=o>&lt;</span> <span class=no>ActiveRecord</span><span class=o>::</span><span class=no>Base</span>
</span></span><span class=line><span class=cl>  <span class=n>has_many</span> <span class=ss>:contacts</span>
</span></span><span class=line><span class=cl>  <span class=n>belongs_to</span> <span class=ss>:user</span>
</span></span><span class=line><span class=cl><span class=k>end</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>Contact</span> <span class=o>&lt;</span> <span class=no>ActiveRecord</span><span class=o>::</span><span class=no>Base</span>
</span></span><span class=line><span class=cl>  <span class=n>belongs_to</span> <span class=ss>:client</span>
</span></span><span class=line><span class=cl><span class=k>end</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=vi>@contacts</span> <span class=o>=</span> <span class=vi>@user</span><span class=o>.</span><span class=n>clients</span><span class=o>.</span><span class=n>includes</span><span class=p>(</span> <span class=ss>:contact</span> <span class=p>)</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-ruby data-lang=ruby><span class=line><span class=cl><span class=k>class</span> <span class=nc>Post</span> <span class=o>&lt;</span> <span class=no>ActiveRecord</span><span class=o>::</span><span class=no>Base</span>
</span></span><span class=line><span class=cl>  <span class=n>has_many</span> <span class=ss>:comments</span>
</span></span><span class=line><span class=cl>  <span class=n>belongs_to</span> <span class=ss>:user</span>
</span></span><span class=line><span class=cl><span class=k>end</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>Comment</span> <span class=o>&lt;</span> <span class=no>ActiveRecord</span><span class=o>::</span><span class=no>Base</span>
</span></span><span class=line><span class=cl>  <span class=n>has_many</span> <span class=ss>:replies</span>
</span></span><span class=line><span class=cl>  <span class=n>belongs_to</span> <span class=ss>:user</span>
</span></span><span class=line><span class=cl><span class=k>end</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>Reply</span> <span class=o>&lt;</span> <span class=no>ActiveRecord</span><span class=o>::</span><span class=no>Base</span>
</span></span><span class=line><span class=cl>  <span class=n>belongs_to</span> <span class=ss>:user</span>
</span></span><span class=line><span class=cl><span class=k>end</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>User</span> <span class=o>&lt;</span> <span class=no>ActiveRecord</span><span class=o>::</span><span class=no>Base</span>
</span></span><span class=line><span class=cl>  <span class=n>has_many</span> <span class=ss>:posts</span>
</span></span><span class=line><span class=cl>  <span class=n>has_many</span> <span class=ss>:comments</span>
</span></span><span class=line><span class=cl>  <span class=n>has_many</span> <span class=ss>:replies</span>
</span></span><span class=line><span class=cl><span class=k>end</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 不包含user</span>
</span></span><span class=line><span class=cl><span class=no>Post</span><span class=o>.</span><span class=n>includes</span><span class=p>(</span><span class=ss>:comments</span> <span class=o>=&gt;</span> <span class=o>[</span><span class=ss>:replies</span><span class=o>]</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 包含user</span>
</span></span><span class=line><span class=cl><span class=no>Post</span><span class=o>.</span><span class=n>includes</span><span class=p>(</span><span class=ss>:user</span><span class=p>,</span> <span class=ss>:comments</span><span class=o>=</span> <span class=o>&gt;</span> <span class=o>[</span><span class=ss>:user</span><span class=p>,</span> <span class=p>{</span><span class=ss>:replies</span> <span class=o>=&gt;</span> <span class=o>[</span><span class=ss>:user</span><span class=o>]</span><span class=p>}</span><span class=o>]</span><span class=p>)</span>
</span></span></code></pre></div><p>如果是在別的table的東西就可以先用includes來preload</p><h2 id=test-data-fixture--factory-bot>test data: fixture & factory bot<a hidden class=anchor aria-hidden=true href=#test-data-fixture--factory-bot>#</a></h2><p>Rails內建有Fixture功能可以建立假資料，方法是為每個Model使用一份YAML資料。
Fixture的缺點是它是直接插入資料進資料庫而不使用ActiveRecord，對於複雜的Model資料建構或關連，會比較麻煩。</p><p>FactoryGirl這套工具，相較於Fixture的缺點是建構速度較慢。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-ruby data-lang=ruby><span class=line><span class=cl><span class=n>order</span> <span class=o>=</span> <span class=no>FactoryBot</span><span class=o>.</span><span class=n>create</span><span class=p>(</span>
</span></span><span class=line><span class=cl>  <span class=ss>:order</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=ss>line_items</span><span class=p>:</span> <span class=o>[</span><span class=no>FactoryBot</span><span class=o>.</span><span class=n>create</span><span class=p>(</span><span class=ss>:line_item</span><span class=p>,</span> <span class=ss>price_cents</span><span class=p>:</span> <span class=mi>40000</span><span class=p>)</span><span class=o>]</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=ss>payments</span><span class=p>:</span> <span class=o>[</span><span class=no>FactoryBot</span><span class=o>.</span><span class=n>create</span><span class=p>(</span><span class=ss>:payment</span><span class=p>,</span> <span class=ss>amount_cents</span><span class=p>:</span> <span class=mi>40000</span><span class=p>)</span><span class=o>]</span>
</span></span><span class=line><span class=cl><span class=p>)</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=c># orders.yml</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>payments_equal_line_item_total</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=c># no attributes needed</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c># line_items.yml</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>electric_dog_polisher</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>order</span><span class=p>:</span><span class=w> </span><span class=l>payments_equal_line_item_total</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;Electric dog polisher&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>price_cents</span><span class=p>:</span><span class=w> </span><span class=m>40000</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c># payment_methods.yml</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>visa</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;Visa&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c># payments.yml</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>first</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>order</span><span class=p>:</span><span class=w> </span><span class=l>payments_equal_line_item_total</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>payment_method</span><span class=p>:</span><span class=w> </span><span class=l>visa</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>amount_cents</span><span class=p>:</span><span class=w> </span><span class=m>40000</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c># order = orders(:payments_equal_line_item_total)</span><span class=w>
</span></span></span></code></pre></div><h2 id=restful--curd>RESTful & CURD<a hidden class=anchor aria-hidden=true href=#restful--curd>#</a></h2><p>這裡可以看成對array操作
像</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-ruby data-lang=ruby><span class=line><span class=cl><span class=n>arr</span> <span class=c1># events_path, GET</span>
</span></span><span class=line><span class=cl><span class=n>arr</span><span class=o>[</span><span class=n>i</span><span class=o>]</span> <span class=c1># event_path(@event), GET</span>
</span></span><span class=line><span class=cl><span class=n>arr</span> <span class=o>&lt;&lt;</span> <span class=s2>&#34;something&#34;</span> <span class=c1># events_path, POST</span>
</span></span><span class=line><span class=cl><span class=n>arr</span><span class=o>.</span><span class=n>delete</span><span class=p>(</span><span class=n>i</span><span class=p>)</span> <span class=c1># event_path(@event), DELETE</span>
</span></span><span class=line><span class=cl><span class=n>arr</span><span class=o>.</span><span class=n>update</span><span class=p>(</span><span class=n>i</span><span class=p>,</span> <span class=s2>&#34;something&#34;</span><span class=p>)</span> <span class=c1># event_path(@event), PATCH/PUT</span>
</span></span></code></pre></div><p>那為什麼需要</p><ul><li>edit_event_path(@event)</li><li>new_event_path</li><li>event_path(@event)</li></ul><p>的GET</p><p>因為我們透過網頁與user互動，把input轉成資料再調用診真正的action</p><table><thead><tr><th>helper</th><th>GET</th><th>POST</th><th>PATCH/PUT</th><th>DELETE</th></tr></thead><tbody><tr><td>event_path(@event)</td><td>/events/1 : show action</td><td></td><td>/events/1 : update action</td><td>/events/1 : destroy action</td></tr><tr><td>events_path</td><td>/events : index action</td><td>/events : create action</td><td></td><td></td></tr><tr><td>edit_event_path(@event)</td><td>/events/1/edit : edit action</td><td></td><td></td><td></td></tr><tr><td>new_event_path</td><td>/events/new : new action</td><td></td><td></td><td></td></tr></tbody></table><h2 id=how-to-handle-req--header>how to handle req & header<a hidden class=anchor aria-hidden=true href=#how-to-handle-req--header>#</a></h2><p><img loading=lazy src=https://ihower.tw/rails/images/basic-mvc-diagram.png alt></p><h2 id=orm-callback>orm callback<a hidden class=anchor aria-hidden=true href=#orm-callback>#</a></h2><p><img loading=lazy src=https://railsbook.tw/images/chapter19/model-lifecycle.png alt></p><h2 id=ref>Ref<a hidden class=anchor aria-hidden=true href=#ref>#</a></h2><p><a href=https://medium.com/@eggyy1224/%E8%8F%9C%E9%B3%A5rails%E5%B7%A5%E4%BD%9C%E9%9D%A2%E8%A9%A6%E5%88%9D%E9%AB%94%E9%A9%97-a562cc700133>菜鳥Rails工作面試初體驗</a>
<a href=https://medium.com/change-or-die/jr-rails-on-rails-engineer%E9%9D%A2%E8%A9%A6%E5%88%9D%E9%AB%94%E9%A9%97-%E4%B8%8A-%E4%BA%8B%E5%89%8D%E6%BA%96%E5%82%99-%E6%8A%80%E8%A1%93%E9%9D%A2%E8%A9%A6-8a471f107c15>Jr. Ruby on Rails Engineer面試初體驗（上）</a>
<a href=https://blog.niclin.tw/2019/04/29/%E6%88%91%E7%9A%84%E4%B8%AD%E9%AB%98%E9%9A%8E-rails-%E5%B7%A5%E4%BD%9C%E9%9D%A2%E8%A9%A6%E5%BF%83%E5%BE%97%E5%88%86%E4%BA%AB/>See also: 我的中高階 Rails 工作面試心得分享</a>
<a href=http://johnliutw.logdown.com/posts/7820241/ruby-on-rails-ruby-syntax-important-concept-collation>面試 interview Ruby 重要概念整理</a>
<a href=https://stackoverflow.com/questions/16159370/ruby-hash-default-value-behavior>Ruby hash default value behavior</a>
<a href=https://tingtinghsu.github.io/blog/articles/2018-11-01-day29_ruby_interview_tap_method>Ruby面試精選30題 - Day29 Ruby的tap method</a>
<a href=https://tingtinghsu.github.io/blog/articles/2018-10-17-day23_ruby_interview_questions_equal>Ruby面試精選30題 - Day23 Ruby的&rsquo;==&rsquo;，&rsquo;===&rsquo; &rsquo;eql?&rsquo; &rsquo;equal?&rsquo;</a>
<a href=https://stackoverflow.com/questions/626/when-to-use-lambda-when-to-use-proc-new/723#723>When to use lambda, when to use Proc.new?</a>
<a href=https://adlerhsieh.com/blog/rails-advanced-query>Web, Rails, 用巢狀include和查表方式來避免 n+1 query</a>
<a href=https://engineering.gusto.com/a-visual-guide-to-using-includes-in-rails/>A Visual Guide to Using :includes in Rails</a>
<a href=https://ihower.tw/rails/>Ruby on Rails 實戰聖經</a>
<a href=https://www.codewithjason.com/factories-fixtures-rails/>Factories and fixtures in Rails</a>
<a href=https://github.com/JuanitoFatas/fast-ruby>See also: Fast Ruby</a></p></div><footer class=post-footer><ul class=post-tags></ul><nav class=paginav><a class=prev href=https://littlebees.github.io/2020/10/metaclass-class%E8%88%87instance%E7%9A%84%E8%9E%8D%E5%90%88/><span class=title>« Prev</span><br><span>metaclass - class與instance的融合</span>
</a><a class=next href=https://littlebees.github.io/2020/10/ruby%E5%A5%87%E5%A6%99%E7%9A%84%E7%B9%BC%E6%89%BF/><span class=title>Next »</span><br><span>ruby奇妙的繼承</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2024 <a href=https://littlebees.github.io/>記事本</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>