<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>leetcode-122 - Best Time to Buy and Sell Stock II | 記事本</title>
<meta name=keywords content="Greedy,Dynamic Programming,Array,60 questions to solve,Top Interview Questions"><meta name=description content="動機

列舉十分可怕
不要拘泥於題目
新看法: 把資料畫成座標圖
"><meta name=author content="zhengcf"><link rel=canonical href=https://littlebees.github.io/2020/12/leetcode-122-best-time-to-buy-and-sell-stock-ii/><link crossorigin=anonymous href=/assets/css/stylesheet.b609c58d5c11bb90b1a54e04005d74ad1ddf22165eb79f5533967e57df9c3b50.css integrity="sha256-tgnFjVwRu5CxpU4EAF10rR3fIhZet59VM5Z+V9+cO1A=" rel="preload stylesheet" as=style><link rel=icon href=https://littlebees.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://littlebees.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://littlebees.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://littlebees.github.io/apple-touch-icon.png><link rel=mask-icon href=https://littlebees.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="leetcode-122 - Best Time to Buy and Sell Stock II"><meta property="og:description" content="動機

列舉十分可怕
不要拘泥於題目
新看法: 把資料畫成座標圖
"><meta property="og:type" content="article"><meta property="og:url" content="https://littlebees.github.io/2020/12/leetcode-122-best-time-to-buy-and-sell-stock-ii/"><meta property="og:image" content="https://littlebees.github.io/images/papermod-cover.png"><meta property="article:section" content="posts"><meta property="article:published_time" content="2020-12-28T22:20:52+00:00"><meta property="article:modified_time" content="2020-12-28T22:20:52+00:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://littlebees.github.io/images/papermod-cover.png"><meta name=twitter:title content="leetcode-122 - Best Time to Buy and Sell Stock II"><meta name=twitter:description content="動機

列舉十分可怕
不要拘泥於題目
新看法: 把資料畫成座標圖
"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://littlebees.github.io/posts/"},{"@type":"ListItem","position":2,"name":"leetcode-122 - Best Time to Buy and Sell Stock II","item":"https://littlebees.github.io/2020/12/leetcode-122-best-time-to-buy-and-sell-stock-ii/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"leetcode-122 - Best Time to Buy and Sell Stock II","name":"leetcode-122 - Best Time to Buy and Sell Stock II","description":"動機 列舉十分可怕 不要拘泥於題目 新看法: 把資料畫成座標圖 ","keywords":["Greedy","Dynamic Programming","Array","60 questions to solve","Top Interview Questions"],"articleBody":"動機 列舉十分可怕 不要拘泥於題目 新看法: 把資料畫成座標圖 Problem You are given an array prices where prices[i] is the price of a given stock on the ith day.\nFind the maximum profit you can achieve. You may complete as many transactions as you like (i.e., buy one and sell one share of the stock multiple times).\nNote: You may not engage in multiple transactions simultaneously (i.e., you must sell the stock before you buy again).\nExample 1:\nInput: prices = [7,1,5,3,6,4]Output: 7Explanation: Buy on day 2 (price = 1) and sell on day 3 (price = 5), profit = 5-1 = 4.Then buy on day 4 (price = 3) and sell on day 5 (price = 6), profit = 6-3 = 3.Example 2:\nInput: prices = [1,2,3,4,5]Output: 4Explanation: Buy on day 1 (price = 1) and sell on day 5 (price = 5), profit = 5-1 = 4.Note that you cannot buy on day 1, buy on day 2 and sell them later, as you are engaging multiple transactions at the same time. You must sell before buying again.Example 3:\nInput: prices = [7,6,4,3,1]Output: 0Explanation: In this case, no transaction is done, i.e., max profit = 0. Constraints:\n1 \u003c= prices.length \u003c= 3 * 1040 \u003c= prices[i] \u003c= 104 Sol1: TLE 因為可以無限次，又要買高賣低，所以就用列舉去找\nclass Solution: def num1(self, ps): ans = 0 lowest_price = ps[0] for x in range(0, len(ps)): lowest_price = min([lowest_price, ps[x]]) ans = max([ans, ps[x] - lowest_price]) return ans @functools.cache def f(self, i, j): ret = 0 if i == j: ret = 0 elif j - i == 1: ret = max(0, self.ps[j] - self.ps[i]) elif j - i == 2: # What!? ret = max(0, self.num1( self.ps[i:j+1]), self.ps[j] - min(self.ps[i], self.ps[i+1])) else: ret = max([self.f(i, k) + self.f(k + 1, j) for k in range(i + 1, j)]) ret = max(ret, self.num1(self.ps[i:j+1])) #print(\"at \", i, j, ret) return ret def maxProfit(self, prices: List[int]) -\u003e int: self.ps = prices return self.f(0, len(prices)-1) Sol2: AC 從最低到最高的距離，與這之間點與點之間的間隔的加總是一樣的!! 例\n1, 3, 4, 7 7-1 = 6 3-1 + 4-3 + 7-4 = 6 買了就一定要賣掉才能買 \u003c= 不用特別等!! 所以，只要把所有利潤加起來就好，除了會覆蓋到最地道最高的case還有，還有中間震盪的case\nclass Solution: def maxProfit(self, prices: List[int]) -\u003e int: ans = 0 for i in range(0,len(prices)-1): if prices[i] \u003c prices[i+1]: ans += prices[i+1]-prices[i] return ans Ref 因為這位大大的圖我才懂為什麼是加總\n","wordCount":"369","inLanguage":"en","datePublished":"2020-12-28T22:20:52Z","dateModified":"2020-12-28T22:20:52Z","author":{"@type":"Person","name":"zhengcf"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://littlebees.github.io/2020/12/leetcode-122-best-time-to-buy-and-sell-stock-ii/"},"publisher":{"@type":"Organization","name":"記事本","logo":{"@type":"ImageObject","url":"https://littlebees.github.io/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://littlebees.github.io/ accesskey=h title="記事本 (Alt + H)">記事本</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://littlebees.github.io/categories/ title=Categories><span>Categories</span></a></li><li><a href=https://littlebees.github.io/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://littlebees.github.io/tags/ title=Tags><span>Tags</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://littlebees.github.io/>Home</a>&nbsp;»&nbsp;<a href=https://littlebees.github.io/posts/>Posts</a></div><h1 class="post-title entry-hint-parent">leetcode-122 - Best Time to Buy and Sell Stock II</h1><div class=post-meta><span title='2020-12-28 22:20:52 +0000 UTC'>December 28, 2020</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;zhengcf</div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#%e5%8b%95%e6%a9%9f aria-label=動機>動機</a></li><li><a href=#problem aria-label=Problem>Problem</a></li><li><a href=#sol1-tle aria-label="Sol1: TLE">Sol1: TLE</a></li><li><a href=#sol2-ac aria-label="Sol2: AC">Sol2: AC</a></li><li><a href=#ref aria-label=Ref>Ref</a></li></ul></div></details></div><div class=post-content><h2 id=動機>動機<a hidden class=anchor aria-hidden=true href=#動機>#</a></h2><ol><li>列舉十分可怕</li><li>不要拘泥於題目</li><li>新看法: 把資料畫成座標圖</li></ol><h2 id=problem>Problem<a hidden class=anchor aria-hidden=true href=#problem>#</a></h2><p>You are given an array <code>prices</code> where <code>prices[i]</code> is the price of a given stock on the <code>i<sup>th</sup></code> day.</p><p>Find the maximum profit you can achieve. You may complete as many transactions as you like (i.e., buy one and sell one share of the stock multiple times).</p><p><strong>Note:</strong> You may not engage in multiple transactions simultaneously (i.e., you must sell the stock before you buy again).</p><p> </p><p><strong>Example 1:</strong></p><pre><strong>Input:</strong> prices = [7,1,5,3,6,4]<strong>Output:</strong> 7<strong>Explanation:</strong> Buy on day 2 (price = 1) and sell on day 3 (price = 5), profit = 5-1 = 4.Then buy on day 4 (price = 3) and sell on day 5 (price = 6), profit = 6-3 = 3.</pre><p><strong>Example 2:</strong></p><pre><strong>Input:</strong> prices = [1,2,3,4,5]<strong>Output:</strong> 4<strong>Explanation:</strong> Buy on day 1 (price = 1) and sell on day 5 (price = 5), profit = 5-1 = 4.Note that you cannot buy on day 1, buy on day 2 and sell them later, as you are engaging multiple transactions at the same time. You must sell before buying again.</pre><p><strong>Example 3:</strong></p><pre><strong>Input:</strong> prices = [7,6,4,3,1]<strong>Output:</strong> 0<strong>Explanation:</strong> In this case, no transaction is done, i.e., max profit = 0.</pre><p> </p><p><strong>Constraints:</strong></p><ul><li><code>1 <= prices.length <= 3 * 10<sup>4</sup></code></li><li><code>0 <= prices[i] <= 10<sup>4</sup></code></li></ul><h2 id=sol1-tle>Sol1: TLE<a hidden class=anchor aria-hidden=true href=#sol1-tle>#</a></h2><p>因為可以無限次，又要買高賣低，所以就用列舉去找</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>Solution</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>num1</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>ps</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=n>ans</span> <span class=o>=</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl>        <span class=n>lowest_price</span> <span class=o>=</span> <span class=n>ps</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=n>x</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=nb>len</span><span class=p>(</span><span class=n>ps</span><span class=p>)):</span>
</span></span><span class=line><span class=cl>            <span class=n>lowest_price</span> <span class=o>=</span> <span class=nb>min</span><span class=p>([</span><span class=n>lowest_price</span><span class=p>,</span> <span class=n>ps</span><span class=p>[</span><span class=n>x</span><span class=p>]])</span>
</span></span><span class=line><span class=cl>            <span class=n>ans</span> <span class=o>=</span> <span class=nb>max</span><span class=p>([</span><span class=n>ans</span><span class=p>,</span> <span class=n>ps</span><span class=p>[</span><span class=n>x</span><span class=p>]</span> <span class=o>-</span> <span class=n>lowest_price</span><span class=p>])</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>ans</span>
</span></span><span class=line><span class=cl>    <span class=nd>@functools.cache</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>f</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>i</span><span class=p>,</span> <span class=n>j</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=n>ret</span> <span class=o>=</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=n>i</span> <span class=o>==</span> <span class=n>j</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=n>ret</span> <span class=o>=</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl>        <span class=k>elif</span> <span class=n>j</span> <span class=o>-</span> <span class=n>i</span> <span class=o>==</span> <span class=mi>1</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=n>ret</span> <span class=o>=</span> <span class=nb>max</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>ps</span><span class=p>[</span><span class=n>j</span><span class=p>]</span> <span class=o>-</span> <span class=bp>self</span><span class=o>.</span><span class=n>ps</span><span class=p>[</span><span class=n>i</span><span class=p>])</span>
</span></span><span class=line><span class=cl>        <span class=k>elif</span> <span class=n>j</span> <span class=o>-</span> <span class=n>i</span> <span class=o>==</span> <span class=mi>2</span><span class=p>:</span> <span class=c1># What!?</span>
</span></span><span class=line><span class=cl>            <span class=n>ret</span> <span class=o>=</span> <span class=nb>max</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>num1</span><span class=p>(</span>
</span></span><span class=line><span class=cl>                <span class=bp>self</span><span class=o>.</span><span class=n>ps</span><span class=p>[</span><span class=n>i</span><span class=p>:</span><span class=n>j</span><span class=o>+</span><span class=mi>1</span><span class=p>]),</span> <span class=bp>self</span><span class=o>.</span><span class=n>ps</span><span class=p>[</span><span class=n>j</span><span class=p>]</span> <span class=o>-</span> <span class=nb>min</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>ps</span><span class=p>[</span><span class=n>i</span><span class=p>],</span> <span class=bp>self</span><span class=o>.</span><span class=n>ps</span><span class=p>[</span><span class=n>i</span><span class=o>+</span><span class=mi>1</span><span class=p>]))</span>
</span></span><span class=line><span class=cl>        <span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=n>ret</span> <span class=o>=</span> <span class=nb>max</span><span class=p>([</span><span class=bp>self</span><span class=o>.</span><span class=n>f</span><span class=p>(</span><span class=n>i</span><span class=p>,</span> <span class=n>k</span><span class=p>)</span> <span class=o>+</span> <span class=bp>self</span><span class=o>.</span><span class=n>f</span><span class=p>(</span><span class=n>k</span> <span class=o>+</span> <span class=mi>1</span><span class=p>,</span> <span class=n>j</span><span class=p>)</span> <span class=k>for</span> <span class=n>k</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>i</span> <span class=o>+</span> <span class=mi>1</span><span class=p>,</span> <span class=n>j</span><span class=p>)])</span>
</span></span><span class=line><span class=cl>            <span class=n>ret</span> <span class=o>=</span> <span class=nb>max</span><span class=p>(</span><span class=n>ret</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>num1</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>ps</span><span class=p>[</span><span class=n>i</span><span class=p>:</span><span class=n>j</span><span class=o>+</span><span class=mi>1</span><span class=p>]))</span>
</span></span><span class=line><span class=cl>        <span class=c1>#print(&#34;at &#34;, i, j, ret)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>ret</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>maxProfit</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>prices</span><span class=p>:</span> <span class=n>List</span><span class=p>[</span><span class=nb>int</span><span class=p>])</span> <span class=o>-&gt;</span> <span class=nb>int</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>ps</span> <span class=o>=</span> <span class=n>prices</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>f</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=nb>len</span><span class=p>(</span><span class=n>prices</span><span class=p>)</span><span class=o>-</span><span class=mi>1</span><span class=p>)</span>
</span></span></code></pre></div><h2 id=sol2-ac>Sol2: AC<a hidden class=anchor aria-hidden=true href=#sol2-ac>#</a></h2><ol><li>從最低到最高的距離，與這之間點與點之間的間隔的加總是一樣的!!</li></ol><p>例</p><pre tabindex=0><code>1, 3, 4, 7

7-1 = 6

3-1 + 4-3 + 7-4 = 6
</code></pre><ol start=2><li>買了就一定要賣掉才能買 &lt;= 不用特別等!!</li></ol><p>所以，只要把所有利潤加起來就好，除了會覆蓋到最地道最高的case還有，還有中間震盪的case</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>Solution</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>maxProfit</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>prices</span><span class=p>:</span> <span class=n>List</span><span class=p>[</span><span class=nb>int</span><span class=p>])</span> <span class=o>-&gt;</span> <span class=nb>int</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>ans</span> <span class=o>=</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span><span class=nb>len</span><span class=p>(</span><span class=n>prices</span><span class=p>)</span><span class=o>-</span><span class=mi>1</span><span class=p>):</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=n>prices</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>&lt;</span> <span class=n>prices</span><span class=p>[</span><span class=n>i</span><span class=o>+</span><span class=mi>1</span><span class=p>]:</span>
</span></span><span class=line><span class=cl>                <span class=n>ans</span> <span class=o>+=</span> <span class=n>prices</span><span class=p>[</span><span class=n>i</span><span class=o>+</span><span class=mi>1</span><span class=p>]</span><span class=o>-</span><span class=n>prices</span><span class=p>[</span><span class=n>i</span><span class=p>]</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>ans</span>
</span></span></code></pre></div><h2 id=ref>Ref<a hidden class=anchor aria-hidden=true href=#ref>#</a></h2><p><a href="https://home.gamer.com.tw/creationDetail.php?sn=4891332">因為這位大大的圖我才懂為什麼是加總</a></p></div><footer class=post-footer><ul class=post-tags><li><a href=https://littlebees.github.io/tags/greedy/>Greedy</a></li><li><a href=https://littlebees.github.io/tags/dynamic-programming/>Dynamic Programming</a></li><li><a href=https://littlebees.github.io/tags/array/>Array</a></li><li><a href=https://littlebees.github.io/tags/60-questions-to-solve/>60 questions to solve</a></li><li><a href=https://littlebees.github.io/tags/top-interview-questions/>Top Interview Questions</a></li></ul><nav class=paginav><a class=prev href=https://littlebees.github.io/2020/12/leetcode-41-first-missing-positive/><span class=title>« Prev</span><br><span>leetcode-41 - First Missing Positive</span>
</a><a class=next href=https://littlebees.github.io/2020/12/leetcode-146-lru-cache/><span class=title>Next »</span><br><span>leetcode-146 - LRU Cache</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2024 <a href=https://littlebees.github.io/>記事本</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>