{"version":3,"sources":["node.js","App.js","index.js"],"names":["Node","props","nowType","value","type","Object","prototype","toString","call","match","typeOf","now","strCtx","CustomTag","href","map","x","cssclass","className","App","path","children","Child","func","delSubTitle","db","i","splice","f","dels","length","sect","findIndex","getInnerTitle","slice","genDB","ver","require","del","summary","forEach","concat","id","useParams","n","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.a2fef469.chunk.js","sourcesContent":["function typeOf(value) {\n    var type = typeof value;\n\n    switch(type) {\n        case 'object':\n        return value === null ? 'null' : Object.prototype.toString.call(value).match(/^\\[object (.*)\\]$/)[1]\n\n        case 'function':\n        return 'Function';\n\n        default:\n        return type;\n    }\n}\n\nexport default function Node(props) {\n    let nowType = typeOf(props.now)\n    \n    if (nowType === \"string\" || nowType === \"String\") {\n        if (props.strCtx !== \"\") {\n            const CustomTag = `${props.strCtx}`;\n            return <CustomTag>{props.now}</CustomTag>\n        } else {\n            return props.now\n        }\n    } else if(props.now){\n        if (props.now[\"url\"]) {\n            return <a href={props.now[\"url\"]}><Node now={props.now[\"title\"]} strCtx=\"\"/></a>\n        } else if (props.now[\"desc\"]) {\n            \n            return [<Node now={props.now[\"topic\"]} strCtx=\"dt\" />,\n                    <dd>\n                        {props.now[\"desc\"].map(x => <Node now={x} strCtx=\"h2\" />)}\n                    </dd>]\n        } else if (props.now[\"list\"]) {\n            if (props.now[\"topic\"]) {\n                let cssclass = props.now[\"class\"] ? props.now[\"class\"] : \"\"\n                return [<Node now={props.now[\"topic\"]} strCtx=\"dt\" />,\n                        <dd>\n                            <ul className={cssclass}>\n                                {props.now[\"list\"].map(x => <li><Node now={x} strCtx=\"\"/></li>)}\n                            </ul>\n                        </dd>]\n            } else {\n                return [<Node now={props.now[\"title\"]} strCtx={props.strCtx}/>,\n                        <ul>\n                            {props.now[\"list\"].map(x => <li><Node now={x} strCtx=\"\"/></li>)}\n                        </ul>]\n            }\n        } else if (props.now[\"subtitle\"]) {\n            const CustomTag = `${props.strCtx}`;\n            return <CustomTag><Node now={props.now[\"title\"]} strCtx=\"\"/> <span><Node now={props.now[\"subtitle\"]} strCtx=\"\"/></span></CustomTag>\n        } else if (props.now[\"text\"]) {\n            return [<Node now={props.now[\"title\"]} strCtx=\"h2\" />,\n                    <p>{props.now[\"text\"]}</p>]\n        }\n    } else {\n        return null\n    }\n}","import React from \"react\";\nimport {\n  HashRouter as Router,\n  Switch,\n  Route,\n  useParams\n} from \"react-router-dom\";\nimport Node from './node';\n\nexport default function App() {\n  return (\n    <Router>\n        <Switch>\n            <Route path=\"/:id\" children={<Child />} />\n        </Switch>\n    </Router>\n  );\n}\n\nfunction getInnerTitle(sect) {\n    if (sect[\"title\"]) {\n        return sect[\"title\"][\"title\"];\n    } else {\n        return null;\n    }\n} \n\nfunction dbDriver(func) { // Array, [\"title\"]\n    var f = function(db,dels){\n        if (dels.length === 0) {\n            return\n        }\n\n        let sect = db.findIndex(sect => ((sect[\"topic\"] || getInnerTitle(sect) || sect[\"title\"] || sect) === dels[0]))\n        if (sect >= 0) {\n            if (dels.length === 1) {\n                func(db,sect)\n            } else {\n                f(db[sect][\"list\"] || db[sect][\"desc\"],dels.slice(1))\n            }\n        }\n    }\n    return f;\n}\n\nlet delSubTitle = dbDriver(function(db,i){ db.splice(i,1) })\n\n// del :: [\"topic\", \"title\", \"title\"...]\nfunction genDB(ver) {\n    let db = require('./db.json')\n    let dels = require('./dels.json');\n    let types = require('./types.json');\n\n    let { del, summary } = types[ver];\n    dels = dels[del];\n\n    dels.forEach(del => {\n        delSubTitle(db, del)\n    });\n    if (summary) {\n        let summaryTMP = [{\"topic\": \"Summary\", \"desc\": [{ \"text\": summary }]}];\n        db = summaryTMP.concat(db);\n    }\n    \n    return db\n}\n\nfunction Child() {\n    let { id } = useParams();\n    let types = require('./types.json');\n    if (id in types) {\n        return (\n            <div id=\"page-wrap\">\n                <div id=\"contact-info\" className=\"vcard\">\n                \n                    <h1 className=\"fn\">Chung-Feng Zheng</h1>\n                \n                    <p>\n                        Cell: <span className=\"tel\">0955-088-153</span><br />\n                        Email: <a className=\"email\" href=\"mailto:zhengcf@cs.nctu.edu.tw\">zhengcf@cs.nctu.edu.tw</a>\n                    </p>\n                </div>\n                <dl>\n                    {genDB(id).map(n => <Node now={n} />)}\n                </dl>\n            </div>\n        );\n    } else {\n        return (null)\n    }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}