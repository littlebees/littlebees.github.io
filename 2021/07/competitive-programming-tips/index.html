<!DOCTYPE html>
<html lang="zh-tw">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.0.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">
  <meta name="google-site-verification" content="AEpTGuQAkxnTOlmfF4INDna3S660LxrkyZ4BQzVbRSw">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"littlebees.github.io","root":"/","scheme":"Muse","version":"7.8.0","exturl":true,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.json"};
  </script>

  <meta name="description" content="動機 現在習慣寫LC，都已經忘了怎麼用c++或是python來讀stdin，所以來整理一下">
<meta property="og:type" content="article">
<meta property="og:title" content="competitive programming的tips">
<meta property="og:url" content="https://littlebees.github.io/2021/07/competitive-programming-tips/index.html">
<meta property="og:site_name" content="記事本">
<meta property="og:description" content="動機 現在習慣寫LC，都已經忘了怎麼用c++或是python來讀stdin，所以來整理一下">
<meta property="og:locale" content="zh_TW">
<meta property="article:published_time" content="2021-07-08T19:16:23.000Z">
<meta property="article:modified_time" content="2022-03-15T16:37:04.761Z">
<meta property="article:author" content="zhengcf">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://littlebees.github.io/2021/07/competitive-programming-tips/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-tw'
  };
</script>

  <title>competitive programming的tips | 記事本</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">記事本</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">寫下來，不然會忘</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>About</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
        <li class="menu-item menu-item-sitemap">

    <a href="/sitemap.xml" rel="section"><i class="fa fa-sitemap fa-fw"></i>Sitemap</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="Searching..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-tw">
    <link itemprop="mainEntityOfPage" href="https://littlebees.github.io/2021/07/competitive-programming-tips/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="zhengcf">
      <meta itemprop="description" content="想到什麼就寫什麼">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="記事本">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          competitive programming的tips
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2021-07-09 03:16:23" itemprop="dateCreated datePublished" datetime="2021-07-09T03:16:23+08:00">2021-07-09</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2022-03-16 00:37:04" itemprop="dateModified" datetime="2022-03-16T00:37:04+08:00">2022-03-16</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Algorithm/" itemprop="url" rel="index"><span itemprop="name">Algorithm</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Algorithm/Tips/" itemprop="url" rel="index"><span itemprop="name">Tips</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h2 id="動機-653">動機</h2>
<p>現在習慣寫LC，都已經忘了怎麼用c++或是python來讀stdin，所以來整理一下</p>
<span id="more"></span>
<h2 id="C">C++</h2>
<h3 id="stdin">stdin</h3>
<h4 id="一般-空白分隔">一般(空白分隔)</h4>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> n;</span><br><span class="line"><span class="keyword">while</span> (n &lt;&lt; cin) &#123;&#125;</span><br></pre></td></tr></table></figure>
<h4 id="一整行">一整行</h4>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">string name;</span><br><span class="line"><span class="keyword">while</span> (<span class="built_in">getline</span> (cin,name)) &#123;&#125;</span><br></pre></td></tr></table></figure>
<h4 id="其他-有分隔號">其他(有分隔號)</h4>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">string name;</span><br><span class="line"><span class="keyword">while</span> (<span class="built_in">getline</span> (cin,name,<span class="string">&#x27;,&#x27;</span>)) &#123;&#125;</span><br></pre></td></tr></table></figure>
<h3 id="file">file</h3>
<h4 id="open">open</h4>
<p>基本都是fstream，但如果只是要讀或寫可以直接用ifstream或ofstream</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">string name;</span><br><span class="line">ifstream fs;</span><br><span class="line">  fs.<span class="built_in">open</span>(<span class="string">&quot;test.txt&quot;</span>);</span><br><span class="line">  <span class="keyword">while</span> (<span class="built_in">getline</span>(fs,name)) &#123;&#125;</span><br></pre></td></tr></table></figure>
<h4 id="read">read</h4>
<p>同stdin(cin)</p>
<h3 id="map-unorder-map-set與其實是一樣的東西">map, unorder_map (set與其實是一樣的東西)</h3>
<p>map就是自平衡二元搜尋樹，好像是rbtree，所以這個會替key排序<br>
unorder_map自然就是hash table了</p>
<ul>
<li>iterate(C++11): <code>for (auto&amp; kv : a_map) &#123; kv.first,kv.second; &#125;</code></li>
<li>iterate: <code>for (map&lt;string, int&gt;::iterator it = a_map.begin(); it != a_map.end(); it++) &#123; it-&gt;first,it-&gt;second; &#125;</code></li>
</ul>
<h3 id="string-operation">string operation</h3>
<h4 id="cast">cast</h4>
<ul>
<li>string-&gt;int</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// C++11</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">int</span> n = <span class="built_in">stoi</span>(<span class="string">&quot;123&quot;</span>);</span><br><span class="line"><span class="keyword">double</span> nn = <span class="built_in">stod</span>(<span class="string">&quot;1.23&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// C++98</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;sstream&gt;</span></span></span><br><span class="line"><span class="keyword">int</span> i;</span><br><span class="line"><span class="keyword">double</span> d;</span><br><span class="line"></span><br><span class="line"><span class="comment">// string -&gt; integer</span></span><br><span class="line">std::<span class="built_in">istringstream</span> ( <span class="string">&quot;123&quot;</span> ) &gt;&gt; i;</span><br><span class="line"></span><br><span class="line"><span class="comment">// string -&gt; double </span></span><br><span class="line">std::<span class="built_in">istringstream</span> ( <span class="string">&quot;1.23&quot;</span> ) &gt;&gt; d;</span><br></pre></td></tr></table></figure>
<ul>
<li>int-&gt;string:</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// C++11</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line">string n = <span class="built_in">to_string</span>(<span class="number">123</span>);</span><br><span class="line">string nn = <span class="built_in">to_string</span>(<span class="number">1.23</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// C++98</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;sstream&gt;</span></span></span><br><span class="line">std::ostringstream ss1,ss2;</span><br><span class="line"></span><br><span class="line">ss1 &lt;&lt; <span class="number">123</span>;</span><br><span class="line">ss2 &lt;&lt; <span class="number">1.23</span>;</span><br><span class="line">cout &lt;&lt; ss1.<span class="built_in">str</span>() &lt;&lt; <span class="string">&#x27;,&#x27;</span> &lt;&lt; ss2.<span class="built_in">str</span>();</span><br></pre></td></tr></table></figure>
<h4 id="common-operations">common operations</h4>
<ul>
<li>substr: <code>str.substr(start, len)</code></li>
<li>length: <code>str.length()</code></li>
<li>reverse: <code>string reversed(str.rbegin(), str.rend());</code> or <code>std::reverse(copy.begin(), copy.end());</code></li>
<li>split(string -&gt; vector<string>)
<ul>
<li>用find找pos再substr，之後erase</li>
<li>如果只有char用stringstream會好打一點</li>
</ul>
</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// for string delimiter</span></span><br><span class="line"><span class="function">vector&lt;string&gt; <span class="title">split</span> <span class="params">(string s, string delimiter)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">size_t</span> pos_start = <span class="number">0</span>, pos_end, delim_len = delimiter.<span class="built_in">length</span>();</span><br><span class="line">    string token;</span><br><span class="line">    vector&lt;string&gt; res;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> ((pos_end = s.<span class="built_in">find</span> (delimiter, pos_start)) != string::npos) &#123;</span><br><span class="line">        token = s.<span class="built_in">substr</span> (pos_start, pos_end - pos_start);</span><br><span class="line">        pos_start = pos_end + delim_len;</span><br><span class="line">        res.<span class="built_in">push_back</span> (token);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    res.<span class="built_in">push_back</span> (s.<span class="built_in">substr</span> (pos_start));</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="vector-operation">vector operation</h3>
<ul>
<li>pop, push_back</li>
<li>slice: <code> std::vector&lt;int&gt;(v1.begin(), v1.begin()+ len);</code> (創一個新的)</li>
<li>length: <code>vec.size()</code></li>
<li>iterate: <code>for (auto&amp; item : vec) &#123;&#125;</code></li>
<li>reverse: <code>vector&lt;int&gt; reversed(vec.rbegin(), vec.rend());</code> or <code>std::reverse(copy.begin(), copy.end());</code></li>
<li>map(C++11): <code>std::transform(nums.begin(), nums.end(), nums.begin(), [](int num) &#123;return std::pow(num, 2);&#125;);</code></li>
<li>filter(C++11): <code>std::copy_if(nums.begin(), nums.end(), std::back_inserter(odd_nums), [](int num) &#123;return num &amp; 1;&#125;);</code></li>
<li>reduce(C++11): <code>#include &lt;numeric&gt; std::accumulate(vector.begin(), vector.end(), decltype(vector)::value_type(0));</code></li>
</ul>
<h3 id="union-find">union find</h3>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">unordered_map&lt;<span class="keyword">int</span>,<span class="keyword">int</span>&gt; fd;</span><br><span class="line">vector&lt;<span class="keyword">int</span>&gt; rank;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">find</span><span class="params">(<span class="keyword">int</span> i)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">while</span> (i != fd[i])</span><br><span class="line">    fd[i] = fd[fd[i]], i = fd[i];</span><br><span class="line">  <span class="keyword">return</span> i;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">union</span><span class="params">(<span class="keyword">int</span> i,<span class="keyword">int</span> j)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">int</span> a = <span class="built_in">find</span>(i), b = <span class="built_in">find</span>(j);</span><br><span class="line">  <span class="keyword">if</span> (a != b) &#123;</span><br><span class="line">    <span class="keyword">if</span> (rank[i] &gt; rank[j])</span><br><span class="line">      fd[j] = i, rank[i]++;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">      fd[i] = j, rank[j]++;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="trie">trie</h3>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Trie</span> &#123;</span></span><br><span class="line">   unordered_map&lt;<span class="keyword">char</span>, struct Trie*&gt; nextLevel;</span><br><span class="line">   <span class="keyword">bool</span> end;</span><br><span class="line">    </span><br><span class="line">    ~<span class="built_in">Trie</span>() &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">auto</span>&amp; kv : nextLevel) &#123;</span><br><span class="line">            <span class="keyword">delete</span> kv.second;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">void</span> <span class="title">insert</span><span class="params">(string s)</span> </span>&#123;</span><br><span class="line">        Trie* trie = <span class="keyword">this</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">auto</span>&amp; c : s) &#123;</span><br><span class="line">            <span class="keyword">if</span> (trie-&gt;nextLevel.<span class="built_in">find</span>(c) == trie-&gt;nextLevel.<span class="built_in">end</span>()) &#123;</span><br><span class="line">                trie-&gt;nextLevel[c] = <span class="keyword">new</span> <span class="built_in">Trie</span>();</span><br><span class="line">            &#125;</span><br><span class="line">            trie = trie-&gt;nextLevel[c];</span><br><span class="line">        &#125;</span><br><span class="line">        trie-&gt;end = <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">search</span><span class="params">(string s)</span> </span>&#123;</span><br><span class="line">        Trie* trie = <span class="keyword">this</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">auto</span>&amp; c : s) &#123;</span><br><span class="line">            <span class="keyword">if</span> (trie-&gt;nextLevel.<span class="built_in">find</span>(c) != trie-&gt;nextLevel.<span class="built_in">end</span>()) &#123;</span><br><span class="line">                trie = trie-&gt;nextLevel[c];</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> trie-&gt;end;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">startsWith</span><span class="params">(string s)</span> </span>&#123;</span><br><span class="line">        Trie* trie = <span class="keyword">this</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">auto</span>&amp; c : s) &#123;</span><br><span class="line">            <span class="keyword">if</span> (trie-&gt;nextLevel.<span class="built_in">find</span>(c) != trie-&gt;nextLevel.<span class="built_in">end</span>()) &#123;</span><br><span class="line">                trie = trie-&gt;nextLevel[c];</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h2 id="Python">Python</h2>
<h3 id="stdin-2">stdin</h3>
<p>要記得rstrip，不然會有newline</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> line <span class="keyword">in</span> sys.stdin:</span><br><span class="line">    line.rstrip(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line">    <span class="built_in">print</span>(line)</span><br></pre></td></tr></table></figure>
<p>這裡有分隔號的讀嗎?<br>
其實有但很少用，而且要在open file時指定，不如用split，還比較快<br>
python的split不用自己刻</p>
<h3 id="file-2">file</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;file.txt&quot;</span>,<span class="string">&#x27;wr&#x27;</span>,encoding=<span class="string">&#x27;utf8&#x27;</span>, newline=<span class="string">&#x27;\r\n&#x27;</span>) <span class="keyword">as</span> file_in:</span><br><span class="line">    lines = []</span><br><span class="line">    <span class="keyword">for</span> line <span class="keyword">in</span> file_in:</span><br><span class="line">        lines.append(line)</span><br><span class="line">    file_in.write(<span class="string">&#x27;write some str&#x27;</span>)</span><br></pre></td></tr></table></figure>
<h3 id="dict-operations">dict operations</h3>
<ul>
<li>iterate</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (k,v) <span class="keyword">in</span> dd.items(): <span class="comment"># keys, values</span></span><br><span class="line">    <span class="built_in">print</span>(k,v)</span><br></pre></td></tr></table></figure>
<h3 id="string-operation-2">string operation</h3>
<ul>
<li>str -&gt; int or float: <code>int(&quot;123&quot;) float(&quot;1.23&quot;)</code></li>
<li>numder -&gt; str: <code>str(123)</code></li>
<li>reverse: <code>str[::-1]</code> or <code>''.join(reservsed(str))</code></li>
<li>split: <code>str.split(',')</code></li>
<li>slice: <code>str[start:end:step]</code> <code>str[2:0:-1]</code>
<ul>
<li><code>[start, end)</code> start包含，end不包含</li>
</ul>
</li>
</ul>
<h3 id="list-operation">list operation</h3>
<ul>
<li>append, pop</li>
<li>join: <code>','.join(arr)</code></li>
<li>slice: 同str</li>
<li>iterate</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> item <span class="keyword">in</span> mylist: <span class="comment"># range(0,len(mylist))</span></span><br><span class="line">    <span class="built_in">print</span>(item)</span><br></pre></td></tr></table></figure>
<ul>
<li>list comprehension: <code>[n+1 for n in mylist if n % 2 is 0]</code></li>
<li>map: <code>list(map(lambda x: x+1, mylist))</code></li>
<li>filter: <code>list(filter(lambda x: x % 2 is 0, mylist))</code></li>
<li>reduce:</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> functools <span class="keyword">import</span> reduce</span><br><span class="line">reduce(<span class="keyword">lambda</span> acc,x: acc+x, a, <span class="number">10</span>)</span><br></pre></td></tr></table></figure>
<h3 id="deque-operation">deque operation</h3>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">q = deque()</span><br><span class="line">q.append(x)</span><br><span class="line">q.appendleft(x)</span><br><span class="line">q.pop()</span><br><span class="line">q.popleft()</span><br></pre></td></tr></table></figure>
<h3 id="union-find-2">union find</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">fd = &#123; n:n <span class="keyword">for</span> n <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,<span class="number">11</span>)&#125;</span><br><span class="line">rank = [ <span class="number">0</span> <span class="keyword">for</span> n <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,<span class="number">11</span>)] <span class="comment"># how many ansestors does this item have?</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">find</span>(<span class="params">fd,i</span>):</span></span><br><span class="line">  <span class="keyword">while</span> fd[i] != i:</span><br><span class="line">    fd[i] = fd[fd[i]] <span class="comment"># path compression, 往祖先設定</span></span><br><span class="line">      i = fd[i]</span><br><span class="line">  <span class="keyword">return</span> i</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">union</span>(<span class="params">fd,rank,i,j</span>):</span></span><br><span class="line">  a = fd[i]</span><br><span class="line">  b = fd[j]</span><br><span class="line">  <span class="keyword">if</span> a != b:</span><br><span class="line">    <span class="keyword">if</span> rank[i] &gt; rank[j]: <span class="comment"># 子孫越多tree越平</span></span><br><span class="line">      fd[j] = i</span><br><span class="line">      rank[i] += <span class="number">1</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">      fd[i] = j</span><br><span class="line">      rank[j] += <span class="number">1</span></span><br></pre></td></tr></table></figure>
<h3 id="trie-2">trie</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">trie = [&#123;&#125;,<span class="literal">False</span>]</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">addString</span>(<span class="params">trie, s</span>):</span></span><br><span class="line">  <span class="keyword">for</span> c <span class="keyword">in</span> s:</span><br><span class="line">    <span class="keyword">if</span> c <span class="keyword">not</span> <span class="keyword">in</span> trie[<span class="number">0</span>]:</span><br><span class="line">      trie[<span class="number">0</span>][c] = [&#123;&#125;, <span class="literal">False</span>]</span><br><span class="line">    trie = trie[<span class="number">0</span>][c]</span><br><span class="line">  trie[<span class="number">1</span>] = <span class="literal">True</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">find</span>(<span class="params">trie, s</span>):</span></span><br><span class="line">  <span class="keyword">for</span> c <span class="keyword">in</span> s:</span><br><span class="line">    <span class="keyword">if</span> c <span class="keyword">in</span> trie[<span class="number">0</span>]:</span><br><span class="line">      trie = trie[<span class="number">0</span>][c]</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">  <span class="keyword">return</span> trie[<span class="number">1</span>]</span><br></pre></td></tr></table></figure>
<h3 id="dp-tips">dp tips</h3>
<p>可以用<code>functools.cache</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@functools.cache</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fib</span>(<span class="params">n</span>):</span></span><br><span class="line">  <span class="keyword">if</span> n &lt; <span class="number">2</span>:</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">  <span class="keyword">else</span>:</span><br><span class="line">    <span class="keyword">return</span> fib(n-<span class="number">1</span>)+fin(n-<span class="number">2</span>)</span><br></pre></td></tr></table></figure>
<p>如果有重複走的問題要自己處理</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">cache_computing</span>(<span class="params">f,is_computing=<span class="literal">None</span></span>):</span></span><br><span class="line">  mem = &#123;&#125;</span><br><span class="line">  </span><br><span class="line"><span class="meta">  @functools.wraps(<span class="params">f</span>)</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">wrapper</span>(<span class="params">*args,**kwds</span>):</span></span><br><span class="line">      <span class="keyword">if</span> args <span class="keyword">not</span> <span class="keyword">in</span> mem:</span><br><span class="line">          mem[args] = is_computing</span><br><span class="line">          mem[args] = f(*args,**kwds)</span><br><span class="line">      <span class="keyword">return</span> mem[args]</span><br><span class="line">  <span class="keyword">return</span> wrapper</span><br></pre></td></tr></table></figure>
<h2 id="Algo經典手法與題目recap">Algo經典手法與題目recap</h2>
<h3 id="prefix-sum">prefix sum</h3>
<h4 id="用法-5">用法</h4>
<ul>
<li>算區間和
<ul>
<li>和
<ul>
<li>從a~b的總和</li>
<li>如果有負數，可以代表偏離原點多遠</li>
</ul>
</li>
<li>一般來說，通常第一個會是0代表沒有加任何東西的狀態</li>
<li>所以index從1開始，代表從<code>arr[0]~arr[i-1]</code></li>
</ul>
</li>
</ul>
<h4 id="static-index-sum">static (index -&gt; sum)</h4>
<ul>
<li><code>list(accumulate(nums, initial=0))</code></li>
<li>LC209
<ul>
<li>因為arr只有正數
<ul>
<li>可以用sliding window，去收縮大小</li>
<li>可以用prefix sum，在prefix sum做binary search
<ul>
<li>我們會先列舉起點到終點</li>
<li>所以prefix sum也是從起點去往後找終點</li>
<li>TODO: LC209與LC525為什麼一個是從後面一個從前面</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="in-fly-sum-count-or-index">in fly (sum -&gt; count or [index])</h4>
<ul>
<li>LC560
<ul>
<li>基本款</li>
</ul>
</li>
<li>LC525
<ul>
<li>與LC209不同這裡是每加一個都會產生變化</li>
<li>所以可以用in fly一邊建prefix sum，再找有沒有符合的</li>
<li>注意同一個sum我們只要<em>最前面</em>的</li>
</ul>
</li>
</ul>
<h3 id="Monotonic-stack">Monotonic stack</h3>
<h4 id="用法-6">用法</h4>
<ul>
<li>根據關注點不同有不同的看法
<ul>
<li>排序，留下最後的字典序 (stk是重點)
<ul>
<li><code>1 3 7 2</code></li>
<li><code>1 2</code>
<ul>
<li>可以看成<code>2</code>把3,7吃了，只留下該範圍最小的，這也是字典序的由來</li>
</ul>
</li>
<li>內容物:
<ul>
<li>節點</li>
<li>區塊</li>
</ul>
</li>
</ul>
</li>
<li>夾出區間，中間是最大或是最小 (被pop的資料是重點)
<ul>
<li><code>while stk and stk[-1] &lt;= n</code>
<ul>
<li><code>7 3 2 ..left.. 1 ..right.. 2</code>
<ul>
<li>right的所有數字都會小於1</li>
<li>left的所有數字都會等於1</li>
<li>1是這個區間<strong>最大的</strong></li>
</ul>
</li>
</ul>
</li>
<li><code>while stk and stk[-1] &gt;= n</code>
<ul>
<li><code>1 2 3 ..left.. 7 ..right.. 2</code>
<ul>
<li>right的所有數字都會大於7</li>
<li>left的所有數字都會等於7</li>
<li>7是這個區間<strong>最小的</strong></li>
</ul>
</li>
</ul>
</li>
<li>這樣就可以用<code>stk[-2]</code>與<code>n</code>，做出一個閉區間</li>
<li>記得處理沒有stk的case</li>
</ul>
</li>
</ul>
</li>
<li>在需要保持原本的順序、字典序、前面的資料會被後面的蓋掉時就可以老慮用用看</li>
</ul>
<h4 id="夾出區間">夾出區間</h4>
<ul>
<li>LC84
<ul>
<li>經典</li>
<li>小的柱子會被大的蓋掉，只取小的
<ul>
<li>用成圖: <code>1,1,1,...1, 2,3,4, 10</code></li>
</ul>
</li>
<li>很明顯就是monotonic stack
<ul>
<li>取pop出的柱子去乘左右兩邊構成的區間長度</li>
</ul>
</li>
</ul>
</li>
<li>LC1130
<ul>
<li>如果要最小一定是找最小的數字，之後是左右兩邊最小的
<ul>
<li>化成圖: <code>a .left. min .right. b</code></li>
<li>有什麼辦法可以保證min一定是a~b之間最小的?
<ul>
<li>monotonic stack
<ul>
<li><code>while stk and stk[-1] &lt;= n</code></li>
</ul>
</li>
</ul>
</li>
<li>最後乘的時候要確認哪邊是小的!!</li>
</ul>
</li>
</ul>
</li>
<li>LC1793
<ul>
<li>就是LC84</li>
<li>不過要在對的區間時才能更新答案
<ul>
<li>這裡可以與LC402比
<ul>
<li>402是控制pop
<ul>
<li>TODO: 這樣stack的性質會是對的嗎?</li>
</ul>
</li>
<li>1793是控制更新答案</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>LC1856
<ul>
<li>區間中最小、又要連續
<ul>
<li>化成圖: <code>7 3 2 ..left.. 1 ..right.. 2</code></li>
</ul>
</li>
<li>之後用prefix sum加速加總</li>
</ul>
</li>
<li>LC907
<ul>
<li>區間中最小，monotonic stack
<ul>
<li>化成圖: <code>1 2 3 ..left.. 7 ..right.. 2</code></li>
</ul>
</li>
</ul>
</li>
<li>LC42
<ul>
<li>只要被兩個柱子夾起來的部份而已!!</li>
</ul>
</li>
</ul>
<h4 id="排序">排序</h4>
<ul>
<li>LC402
<ul>
<li>如果只是移除多的字以完成最小字典序不難就mono stack</li>
<li>但是有限制次數，所以不能一直pop</li>
</ul>
</li>
<li>LC316
<ul>
<li>同樣是移除字完成最小字典序</li>
<li>但與LC402不同的是，這次是不能放入同樣的字
<ul>
<li>注意到，這次條件是打在最外面</li>
<li>只要重複就連stack都不pop
<ul>
<li>但402是還可以放數字到stack</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>LC768
<ul>
<li>這題把stack的sort具體化，這話怎麼說</li>
<li>前面提過小的會把大的吃掉，所以現在紀錄的是範圍最小</li>
<li>但這題最後要留下範圍最大的item</li>
</ul>
</li>
<li>LC901
<ul>
<li>就是LC768</li>
<li>要記下區間最大值</li>
<li>不過這題還要區間長度</li>
</ul>
</li>
<li>LC581
<ul>
<li>可以用LC768去生chunk，之後把頭尾去掉，把所有長度加起來</li>
<li>TODO: 但可以不用那麼麻煩</li>
</ul>
</li>
</ul>
<h4 id="下一個最大">下一個最大</h4>
<ul>
<li>LC503
<ul>
<li>這是monotonic stack的經典展現</li>
<li>求下一個最大
<ul>
<li>觸發pop的數字就是下一個最大</li>
</ul>
</li>
<li>circular?
<ul>
<li>nums兩倍長就好</li>
</ul>
</li>
</ul>
</li>
<li>LC739
<ul>
<li>求下一個最大之間的距離
<ul>
<li>所以stack放index</li>
</ul>
</li>
<li>這裡會遇到一個有趣的case
<ul>
<li><code>[1, 2, 2]</code>要怎麼處理?
<ul>
<li>加等號: 會讓後面的2被吃掉</li>
<li>不加: 2留著</li>
</ul>
</li>
<li>怎麼叫更溫暖?
<ul>
<li>大於，所以不加等號</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="難">難</h4>
<ul>
<li>LC456
<ul>
<li>這要認真推</li>
<li>先暴力
<ul>
<li>原本<code>1&lt;2&lt;3</code></li>
<li>會從3開始找，之後2再來1</li>
<li>會從最大的開始找!!</li>
</ul>
</li>
<li>但現在
<ul>
<li><code>1&lt;3&lt;2</code></li>
<li>這要從哪裡開始找?</li>
<li>先從大的開始，所以是2
<ul>
<li>但怎麼確認3</li>
<li>(難的地方!!)
<ul>
<li>從<em>後面</em>開始看</li>
<li>這樣會有
<ul>
<li><code>1 1 1 2 3 3 3</code></li>
</ul>
</li>
</ul>
</li>
<li>之後是大小，2要大於3，最好會自動清
<ul>
<li>monotonic stack</li>
<li>清出來的就是可能的2，而我們挑最大的</li>
<li>要等號嗎?
<ul>
<li>不用!!</li>
<li>保留可能性</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>所以要做的是
<ul>
<li>從後往前，塞stack (3的候補)</li>
<li>出現大的數字，清stack (2的候補)</li>
<li>剩下只要比對是不是符合132</li>
</ul>
</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">find132pattern</span>(<span class="params">self, nums: <span class="type">List</span>[<span class="built_in">int</span>]</span>) -&gt; <span class="built_in">bool</span>:</span></span><br><span class="line">        stk = []</span><br><span class="line">        mid = <span class="built_in">float</span>(<span class="string">&#x27;-inf&#x27;</span>)</span><br><span class="line">        <span class="keyword">for</span> n <span class="keyword">in</span> <span class="built_in">reversed</span>(nums):</span><br><span class="line">            <span class="keyword">if</span> n &lt; mid <span class="keyword">and</span> stk:</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">            </span><br><span class="line">            <span class="keyword">while</span> stk <span class="keyword">and</span> stk[-<span class="number">1</span>] &lt; n:</span><br><span class="line">                mid = <span class="built_in">max</span>(mid,stk.pop())</span><br><span class="line">            stk += n,</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">False</span></span><br></pre></td></tr></table></figure>
<ul>
<li>LC862
<ul>
<li>區間總和，但是
<ul>
<li>有負數</li>
<li>大於等於目標</li>
</ul>
</li>
<li>算區間和，prefix sum
<ul>
<li>所以就一直記prefix sum，從最小的開始算和(queue)</li>
<li>如果sum太大怎麼辦
<ul>
<li>所以要清 (stack，這不單調，只是要清總和太大的項目)</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="binary-search-2">binary search</h3>
<p>bsearch不一定要排序才能用<br>
bsearch最好用左閉右開<br>
注意mid會不會重複<br>
用法</p>
<ul>
<li>找目標</li>
<li>猜數字</li>
<li>逼近 (LC4)</li>
</ul>
<h4 id="題目-4">題目</h4>
<ul>
<li>LC162
<ul>
<li>右邊的點要在答案中
<ul>
<li>也就是重合時會等於的值</li>
</ul>
</li>
<li>往大的方向走
<ul>
<li>就算沒有sort也可以用!!</li>
</ul>
</li>
</ul>
</li>
<li>LC4
<ul>
<li>有sort也不一定看的出來可以用bsearch</li>
<li>這裡重點是長度
<ul>
<li>每次把小的區段丟掉</li>
</ul>
</li>
</ul>
</li>
<li>LC1011
<ul>
<li>猜每天要在多少重量</li>
<li>但範圍是重點
<ul>
<li>太大會很慢</li>
<li>每一個貨物當成最重的重量，去算平均</li>
</ul>
</li>
</ul>
</li>
<li>LC33
<ul>
<li>確認兩件事
<ul>
<li>哪一塊是遞增的</li>
<li>目標在這一塊嗎</li>
</ul>
</li>
<li>另外
<ul>
<li>如果長度是2，mid會輪迴!!</li>
</ul>
</li>
</ul>
</li>
<li>LC153
<ul>
<li>對rotate的長度做bsearch</li>
</ul>
</li>
<li>LC327
<ul>
<li>prefix sum + 不等式
<ul>
<li>用lower bound與upper bound找index</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="sliding-window">sliding window</h3>
<h4 id="基本">基本</h4>
<p>用<em>閉區間</em>做<br>
列舉終點</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="number">0</span></span><br><span class="line">win = []</span><br><span class="line"><span class="keyword">for</span> b <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(fs)):</span><br><span class="line">    update_win()</span><br><span class="line">    <span class="keyword">while</span> a &lt;= b <span class="keyword">and</span> when_win_is_illegal():</span><br><span class="line">        shrink_win()</span><br><span class="line">    update_ret()</span><br><span class="line"><span class="keyword">return</span> ret</span><br></pre></td></tr></table></figure>
<p>列舉起點</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">b = <span class="number">0</span></span><br><span class="line">win = []</span><br><span class="line"><span class="keyword">for</span> a <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(fs)):</span><br><span class="line">    <span class="keyword">while</span> b &lt; <span class="built_in">len</span>(fs) <span class="keyword">and</span> when_win_is_legal():</span><br><span class="line">        update_ret()</span><br><span class="line">        expand_win()</span><br><span class="line">    shrink_win()</span><br><span class="line"><span class="keyword">return</span> ret</span><br></pre></td></tr></table></figure>
<p>atMost</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">atmost</span>(<span class="params">bound</span>):</span></span><br><span class="line">    ret = i = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> j,n <span class="keyword">in</span> <span class="built_in">enumerate</span>(nums):</span><br><span class="line">        update_win()</span><br><span class="line">        <span class="keyword">while</span> i &lt;= j <span class="keyword">and</span> when_win_is_illegal():</span><br><span class="line">            shrink_win()</span><br><span class="line">        ret += j-i+<span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> ret</span><br></pre></td></tr></table></figure>
<h4 id="題目-5">題目</h4>
<ul>
<li>LC220
<ul>
<li>這裡index的abs用sliding window處理</li>
<li>數字用不等式推論
<ul>
<li>之後會看到lower bound</li>
</ul>
</li>
</ul>
</li>
<li>LC995
<ul>
<li>這裡的重點是處理flip
<ul>
<li>flip的問題
<ul>
<li>現在是什麼bit</li>
<li>範圍到哪</li>
</ul>
</li>
<li>範圍就想到index
<ul>
<li>所以要有方法追蹤有flip的index</li>
<li>並在超出範圍時刷掉
<ul>
<li><em>queue做sliding window</em></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>LC713
<ul>
<li>用sliding window找最靠近k的window</li>
<li>但接著就是怎麼算現在的window有多少組合?
<ul>
<li>魔法: <code>right-left + 1</code></li>
</ul>
</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">totalFruit</span>(<span class="params">self, fs: <span class="type">List</span>[<span class="built_in">int</span>]</span>) -&gt; <span class="built_in">int</span>:</span></span><br><span class="line">        win = Counter()</span><br><span class="line">        a = <span class="number">0</span></span><br><span class="line">        ret = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> b <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(fs)):</span><br><span class="line">            win[fs[b]] += <span class="number">1</span></span><br><span class="line">            <span class="keyword">while</span> a &lt;= b <span class="keyword">and</span> <span class="built_in">len</span>(win) &gt; <span class="number">2</span>:</span><br><span class="line">                win[fs[a]] -= <span class="number">1</span></span><br><span class="line">                win += Counter()</span><br><span class="line">                a += <span class="number">1</span></span><br><span class="line">            ret = <span class="built_in">max</span>(ret, b-a+<span class="number">1</span>)</span><br><span class="line">        <span class="keyword">return</span> ret</span><br></pre></td></tr></table></figure>
<ul>
<li>LC395
<ul>
<li>長度是至少k
<ul>
<li>所以不好當sliding window的條件</li>
<li>需要別的條件</li>
</ul>
</li>
<li>字母只有26個
<ul>
<li><em>限制最多多少字母可以出現在window中!!</em></li>
</ul>
</li>
</ul>
</li>
<li>LC424
<ul>
<li>怎麼找出有多少非法字
<ul>
<li><em>總長度 = 最多的字 + 其他字</em></li>
</ul>
</li>
</ul>
</li>
<li>LC992
<ul>
<li>新招式: atMost
<ul>
<li>小於等於limit有多少組合</li>
</ul>
</li>
</ul>
</li>
<li>LC1234
<ul>
<li>window中的東西可以亂生
<ul>
<li>外面不超標的話就可以用window把string給平衡掉</li>
</ul>
</li>
</ul>
</li>
<li>LC1248
<ul>
<li>可以用atMost</li>
<li>也可以之前的魔法
<ul>
<li><code>right-left+1</code>是以此點為終點的組合數</li>
<li>之後就是在奇數到期時加到答案中</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="monotonic-queue">monotonic queue</h4>
<ul>
<li>LC239
<ul>
<li>明顯是sliding window</li>
<li>但要最大值
<ul>
<li>monotonic stack</li>
</ul>
</li>
<li>還要顧index
<ul>
<li>deque</li>
</ul>
</li>
<li>兩個結合就是monotonic queue</li>
</ul>
</li>
</ul>
<h3 id="two-pointer-2">two pointer</h3>
<h4 id="linked-list-vs-array">linked list vs array</h4>
<ul>
<li>LC148
<ul>
<li>只能用merge sort</li>
<li>因為不能隨機跳位置</li>
</ul>
</li>
<li>LC19
<ul>
<li>這是list，一旦過了就回不去</li>
<li>但可以像找中點，讓兩個ptr之間保持距離</li>
<li>這裡是固定距離，中點是找兩倍</li>
</ul>
</li>
<li>LC61 &amp; LC189
<ul>
<li>先談rotate array
<ul>
<li>一個是Cyclic replace (不好做)</li>
<li>另一個是
<ul>
<li>reverse整條</li>
<li>reverse 0~k 與 reverse k~end</li>
</ul>
</li>
</ul>
</li>
<li>再談rotate list
<ul>
<li>延續reverse的解法</li>
<li>第一次reverse是把後面的拉到前面</li>
<li>第二次reverse是把順序用成對的</li>
<li>但這裡是list，所以可以直接把list分成兩個</li>
<li>接上去就好</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="index-ptr-as-list">index,ptr as list</h4>
<ul>
<li>LC283
<ul>
<li>一個ptr做為0的list的<em>終點</em></li>
<li>另一個ptr是還沒看過的item的list的<em>起點</em></li>
</ul>
</li>
<li>LC26
<ul>
<li>同LC283</li>
<li>一個終點一個起點，一直換</li>
</ul>
</li>
<li>LC905
<ul>
<li>類似LC283</li>
<li>但一個從array的頭，一個從尾塞</li>
</ul>
</li>
<li>LC75
<ul>
<li>類似LC905</li>
<li>但要記得從後面換的部分還是屬於沒看過的部分，所以還要再看一次</li>
</ul>
</li>
<li>LC86
<ul>
<li>把list分一半</li>
<li>兩個list指向list的<em>終點</em>
<ul>
<li>Linked list需要確保每次新增node時不會loop
<ul>
<li>要記得把next設成None</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>LC143
<ul>
<li>類似LC86</li>
</ul>
</li>
</ul>
<h4 id="classic">classic</h4>
<ul>
<li>LC142
<ul>
<li>判圈
<ul>
<li>一個走一倍，一個走兩倍</li>
<li>只要相遇就是圈</li>
</ul>
</li>
<li>圈的起點
<ul>
<li>慢走的長度是
<ul>
<li>起點到圈起點 + 某個數字*圈長度</li>
</ul>
</li>
<li>快走的長度是
<ul>
<li>起點到圈起點 + 某個數字*圈長度</li>
</ul>
</li>
<li>兩個相減就會看到現在長度其實是
<ul>
<li>圈長度的<em>整數倍</em></li>
<li>也就是說，不管從哪裡都可以算是圈的起點</li>
</ul>
</li>
<li>所以只要從起點走遇到另一個ptr就是圈的起點</li>
</ul>
</li>
</ul>
</li>
<li>LC15
<ul>
<li>3sum
<ul>
<li>從頭開始走剩下的部分做2sum</li>
</ul>
</li>
</ul>
</li>
<li>LC18
<ul>
<li>nSum
<ul>
<li>延伸3sum，直到只剩下2sum之前</li>
<li>都是當成3sum處理</li>
</ul>
</li>
</ul>
</li>
<li>LC876
<ul>
<li>Linked List中點
<ul>
<li>一個走一倍，一個走兩倍</li>
<li>另一個到終點，現在的就是中點
<ul>
<li>根據跳出來的條件可以看長度是奇數還是偶數
<ul>
<li>因<code>node.next</code>跳出來，偶數</li>
<li>因<code>node.next.next</code>跳出來，奇數</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>LC287
<ul>
<li>有很多解法
<ul>
<li>bsearch (猜數字)</li>
<li>注意到<em>資料都是在index的範圍</em>內
<ul>
<li>可以用判圈</li>
<li>可以把資料換到對應的index上
<ul>
<li>另外該資料也會是0~i之間最大的
<ul>
<li>見chunk那一題</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="misc">misc</h4>
<ul>
<li>LC986
<ul>
<li>merge interval可以</li>
<li>把兩個interval看頭尾，挑最靠近裡面的部分
<ul>
<li>在最小中挑最大</li>
<li>在最大中挑最小</li>
<li>如果新interval的頭大於尾，這新interval就是非法的</li>
<li>每次都丟尾最小的</li>
</ul>
</li>
</ul>
</li>
<li>LC844
<ul>
<li>上stack</li>
<li>直接從尾開始比，之後統計刪的次數，有counter時跳掉
<ul>
<li>為什麼是尾開始
<ul>
<li>delete往前刪</li>
<li>所以前面不會確定</li>
<li>但後面不會被影響</li>
</ul>
</li>
<li>有點像moore voting</li>
</ul>
</li>
</ul>
</li>
<li>LC763
<ul>
<li>所有char都要在同一區</li>
<li>一次一次紀錄每個char最後出線的index</li>
<li>什麼時候才切成一區?
<ul>
<li>當下的位置就是最後的位置時
<ul>
<li>可以看chunk與LC287作對比</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>LC42
<ul>
<li>對於每個柱子，就是看
<ul>
<li>左右都比自己高</li>
<li>挑矮的，算差距</li>
</ul>
</li>
<li>因為每次都只看最矮的
<ul>
<li>所以可以像2sum去縮</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="heap">heap</h3>
<ul>
<li>python原本只有heapq，十分不好用
<ul>
<li>但是可以搭配已經sort好的list去用他的heappop與heappush
<ul>
<li>LC352</li>
</ul>
</li>
</ul>
</li>
<li>可以用SordtedList好用超多，遠比C++的set或是map好用</li>
</ul>
<h3 id="divide-and-conquer">divide and conquer</h3>
<ul>
<li>LC327
<ul>
<li>右邊index一定大於左邊</li>
<li>針對每個左邊index找右邊符合需求的區間</li>
</ul>
</li>
<li>LC493
<ul>
<li>TODO: 要看裡面怎麼用bit，感覺與divide and conquer有一點關係</li>
</ul>
</li>
</ul>
<h3 id="Dynamic-programming">Dynamic programming</h3>
<h4 id="TODO-7">TODO</h4>
<ul>
<li>刷表法 &amp; 填表法差別</li>
</ul>
<h4 id="用途">用途</h4>
<ul>
<li>此點的狀態，像palindromic</li>
<li>到目前為止的總和，一般的dp都是以此為目標去求</li>
</ul>
<h4 id="from-start-or-end">from start or end</h4>
<ul>
<li>LC198
<ul>
<li>dp可以從
<ul>
<li>起點開始算
<ul>
<li>要先把整個長度算好
<ul>
<li>這是環狀
<ul>
<li>長度兩倍</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>終點算回去
<ul>
<li>簡單很多!!
<ul>
<li><code>max(self.ns[i] + self.dp(i-2), self.dp(i-1))</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>任何dp都建議從終點算回去</li>
</ul>
<h4 id="bottom-up-與-top-down">bottom-up 與 top-down</h4>
<ul>
<li>LC718
<ul>
<li>如果用top-down
<ul>
<li>除了要看字有沒有一樣</li>
<li>還要追蹤長度!!
<ul>
<li>因為要連續</li>
<li><code>f(i,j,l)</code>
<ul>
<li><code>max(ret, f(i-1,j,0), f(i,j-1,0))</code>
<ul>
<li><code>ret = f(i-1,j-1,k+1) if s[i] == s[j] else k</code></li>
</ul>
</li>
</ul>
</li>
<li>這是n^3</li>
</ul>
</li>
</ul>
</li>
<li>用bottom-up
<ul>
<li><code>dp[i][j] = dp[i-1][j-1]+1 if if s[i] == s[j] else 0</code></li>
<li>這是n^2</li>
<li>因為是長度所以比起top-down少很多東西</li>
</ul>
</li>
</ul>
</li>
<li>LC546
<ul>
<li>真的什麼都想不到的話就是dp去模擬
<ul>
<li>要什麼項目(參數、狀態定義)</li>
<li>怎麼轉換</li>
</ul>
</li>
<li><code>f(i,j,k)</code>
<ul>
<li>i,j是範圍</li>
<li>k是與j同顏色的盒子數量
<ul>
<li>所以這裡就兩個case
<ul>
<li>直接把所有盒子用掉，算分數</li>
<li>抓中點，去增加k的數量
<ul>
<li><code>[dp(i,x,k+1)+dp(x+1,j-1,0) for x in range(i,j) if boxes[x] == boxes[j]]</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="classic-2">classic</h4>
<ul>
<li>LC72
<ul>
<li>edit dist
<ul>
<li>replace: <code>(i-1,j-1)</code></li>
<li>delete: <code>(i,j-1)</code></li>
<li>insert&quot; <code>(i-1,j)</code>
<ul>
<li>insert多一個字，又馬上比對，所以與delete相反</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>LC647
<ul>
<li>palindromic
<ul>
<li><code>s[i] == s[j] and ispalid(i+1,j-1)</code></li>
</ul>
</li>
<li>這題其實做從中心展開會比較好
<ul>
<li>都是n^2，還比較簡單</li>
</ul>
</li>
</ul>
</li>
<li>LC516
<ul>
<li>palindromic
<ul>
<li>不用在失敗時結束，要把字刪掉
<ul>
<li><code>max(dp(i+1,j),dp(i,j-1))</code></li>
</ul>
</li>
<li>剩下就是原本的dp</li>
</ul>
</li>
</ul>
</li>
<li>LC322
<ul>
<li>coin
<ul>
<li>有兩種
<ul>
<li>一個是從背包抄來的
<ul>
<li><code>f(total, i)</code>
<ul>
<li>一個是完全不用: <code>f(total, i-1)</code></li>
<li>一個是一直try: <code>f(total-arr[i]*n, i)</code></li>
</ul>
</li>
<li>這是n^2</li>
</ul>
</li>
<li>另一個是用total做狀態
<ul>
<li><code>f(total)</code>
<ul>
<li>每個都try: <code>min([f(total-n) for n in arr])</code></li>
</ul>
</li>
<li>這個是n</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>LC139
<ul>
<li>word break
<ul>
<li>這不是教科書會出現的dp經典
<ul>
<li>但是處理leetcode的字串列舉常常用到</li>
</ul>
</li>
<li><code>f(s)</code>
<ul>
<li>對bank的每個字比開頭
<ul>
<li><code>f(s[len(w):])</code></li>
</ul>
</li>
<li>題外話
<ul>
<li>bank的處理還有一個是用bfs配把字碼調
<ul>
<li>像<code>*bc</code>、<code>a*b</code>、<code>ab*</code></li>
<li>處理換字能不能換成另一個字的問題
<ul>
<li>再題外話
<ul>
<li>像是倒水問題這種狀態變化固定的都可以用bfs找最短路徑
<ul>
<li>但要把狀態定義好!!</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>LC152
<ul>
<li>LIS
<ul>
<li>這題是LIS的進化版
<ul>
<li>原本是
<ul>
<li><code>lis(i)</code>
<ul>
<li><code>max(arr[i], arr[i]+lis(i))</code></li>
</ul>
</li>
</ul>
</li>
<li>但負數也有可能會是選項!!
<ul>
<li>所以要同時計min與max，不能像原版只用max</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>LC354
<ul>
<li>LIS
<ul>
<li>這題是二維LIS
<ul>
<li>但要處理第一維同數字的問題
<ul>
<li>第一維increasing排序</li>
<li>第二維decreasing排序</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>LC64
<ul>
<li>棋盤
<ul>
<li>就是看能往哪走
<ul>
<li><code>f(i,j)</code>
<ul>
<li><code>grid[i][j]+min(f(i-1,j), f(i,j-1))</code></li>
</ul>
</li>
<li>建議都是用終點去推
<ul>
<li>TODO: 有一題就是一定要用終點推</li>
</ul>
</li>
<li>如果用起點走就是dfs</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>LC338
<ul>
<li>奇偶
<ul>
<li>偶: <code>2n</code></li>
<li>奇: <code>2n+1</code></li>
</ul>
</li>
<li>可以直接用!!</li>
</ul>
</li>
<li>LC96
<ul>
<li>BST與range
<ul>
<li>BST就是左邊小、右邊大
<ul>
<li>所以有range</li>
</ul>
</li>
<li>BST是tree
<ul>
<li>常用的dfs</li>
</ul>
</li>
</ul>
</li>
<li>在range上列舉中點，算組合數</li>
</ul>
</li>
</ul>
<h4 id="hard">hard</h4>
<ul>
<li>LC87
<ul>
<li>這種有明確標示動作與做reduction對象的都很簡單</li>
<li>但這題要注意swap的string可能還沒被比完!!
<ul>
<li>要用<code>cache_computing</code></li>
</ul>
</li>
</ul>
</li>
<li>LC396
<ul>
<li>把函數列出來
<ul>
<li>找規律 (所以難，有緣就找的到)
<ul>
<li><code>f(n) = f(n-1) - sum + len(arr)*arr[n-1]</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>LC312
<ul>
<li>如果用平常的作法
<ul>
<li><code>f(i,j)</code>是i~j的最大分數就會變成兩邊
<ul>
<li>十分痛苦</li>
</ul>
</li>
<li>要看成
<ul>
<li>這區域的氣球都爆完的分數有多少
<ul>
<li>列舉要爆的氣球
<ul>
<li><code>max( nums[left] * nums[i] * nums[right] + dp(left, i) + dp(i, right) for i in range(left+1, right) )</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>LC926
<ul>
<li>分成ones與zeros就可以看出要用prefix sum</li>
<li>如果要用dp，就要看怎麼建構合法的答案
<ul>
<li>最後一位如果是1，可以直接接上去</li>
<li>如果是0，不是把前面的1換成0，就是把自己這一位換成1</li>
</ul>
</li>
</ul>
</li>
<li>LC600
<ul>
<li><code>f(i)</code>i位數的合法組合數 (沒有連續1)
<ul>
<li>以5為例
<ul>
<li><code>10 111 ~ 10 000</code>: <code>f(3)</code></li>
<li><code>0 1111 ~ 0 0000</code>: <code>f(4)</code>
<ul>
<li><code>11 111 ~ 11 000</code>非法</li>
<li><code>01 111 ~ 01 000</code>會被包含</li>
</ul>
</li>
<li><code>f(i) = f(i-1)+f(i-2)</code></li>
</ul>
</li>
<li>所以剩下就是從最高位往下加<code>f(k)</code></li>
<li>同時看有沒有連續1出現!!</li>
</ul>
</li>
</ul>
</li>
<li>LC44
<ul>
<li>其實就是用string比對處理(edit dist)</li>
<li>但要注意最後pat只剩下star的狀態!!</li>
</ul>
</li>
<li>LC188
<ul>
<li>能用到mutual recursion!!</li>
<li>定義<code>buy(i,k)</code>and<code>sell(i,k)</code>
<ul>
<li>分別定義
<ul>
<li><code>buy(i,k)</code>: 在i時還有k次購買機會的購買的最大收益
<ul>
<li><code>buy(i-1,k)</code></li>
<li><code>sell(i-k,k-1)-arr[i]</code></li>
</ul>
</li>
<li><code>sell(i,k)</code>: 在i時還有k次購買機會的賣出的最大收益
<ul>
<li><code>sell(i-1,k)</code></li>
<li><code>buy(i-k,k)+arr[i]</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>另外也可以用挑區段，去接來看</li>
<li>如果當成lis去看，之後跑k次
<ul>
<li>分成歷史上的最大(global)與當前的最大(local)</li>
<li>之後就是用lis更新local</li>
<li>之後更新global
<ul>
<li><code>local = max(global[i], local + prices[i] - prices[i-1])</code></li>
<li><code>global[i] = max(global[i-1], local)</code></li>
</ul>
</li>
</ul>
</li>
<li>另外。LC122
<ul>
<li>最高到最低的總和就是各個區段的總和</li>
<li>所以就是在increasing時把所有差額加起來</li>
</ul>
</li>
</ul>
</li>
<li>LC376
<ul>
<li>這題對我有因緣</li>
<li>因為是用自己的dp過的
<ul>
<li>先過整條array看是increasing還是decreasing</li>
<li>之後根據方向，跑lis</li>
</ul>
</li>
<li>因為有兩個方向，所以可以定義mutual recursion
<ul>
<li><code>arr[i-1] &gt; arr[i]</code>
<ul>
<li><code>up[i] = down[i-1]+1</code></li>
<li><code>down[i] = down[i-1]</code></li>
</ul>
</li>
<li><code>arr[i-1] &lt; arr[i]</code>
<ul>
<li><code>up[i] = up[i-1]</code></li>
<li><code>down[i] = up[i-1]+1</code></li>
</ul>
</li>
<li><code>arr[i-1] == arr[i]</code>
<ul>
<li><code>up[i] = up[i-1]</code></li>
<li><code>down[i] = down[i-1]</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="line-sweap">line sweap</h3>
<ul>
<li>把起終點分開，<code>[start, -height], [end, height]</code></li>
<li>根據位置與高度排序</li>
<li>之後一個一個走
<ul>
<li>把高度塞到heap中 (line sweap)
<ul>
<li>負的就塞</li>
<li>正的就去刪</li>
</ul>
</li>
<li>之後就是用heap去確認當前高度，去調整答案</li>
</ul>
</li>
</ul>
<h4 id="elegant-sol">elegant sol</h4>
<ul>
<li>這裡是收集一些原本用dp但是有超級優雅的解</li>
<li>LC828
<ul>
<li>from lee215</li>
<li><code>AXXXAXXA</code>
<ul>
<li>看中間的A到左右兩邊的A隔3與2個字元(4與3個洞)</li>
<li>所以只包含中間A的組合是12</li>
</ul>
</li>
<li>所以只要針對所有字元中間的洞算組合數就好!!</li>
</ul>
</li>
<li>LC1569
<ul>
<li>這是BST，有左右兩邊</li>
<li>而我們有第一個點，root</li>
<li>可以分左右兩邊</li>
<li>算組合數: <code>comb(len(right)+len(left), len(right))*f(right)*f(left)</code></li>
</ul>
</li>
<li>LC678
<ul>
<li>把所有星號當成左括號，去計數，如果左括號太少，就直接False</li>
<li>把所有星號當成右括號，去計數，全部跑完，看有沒有被扣完</li>
</ul>
</li>
</ul>

    </div>

    
    
    

      <footer class="post-footer">

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2021/07/a-little-java-a-few-patterns-note/" rel="prev" title="A little java, a few patterns筆記">
      <i class="fa fa-chevron-left"></i> A little java, a few patterns筆記
    </a></div>
      <div class="post-nav-item">
    <a href="/2021/07/linked-list-faq/" rel="next" title="linked-list的faq">
      linked-list的faq <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8B%95%E6%A9%9F-653"><span class="nav-number">1.</span> <span class="nav-text">動機</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#C"><span class="nav-number">2.</span> <span class="nav-text">C++</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#stdin"><span class="nav-number">2.1.</span> <span class="nav-text">stdin</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%B8%80%E8%88%AC-%E7%A9%BA%E7%99%BD%E5%88%86%E9%9A%94"><span class="nav-number">2.1.1.</span> <span class="nav-text">一般(空白分隔)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%B8%80%E6%95%B4%E8%A1%8C"><span class="nav-number">2.1.2.</span> <span class="nav-text">一整行</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%85%B6%E4%BB%96-%E6%9C%89%E5%88%86%E9%9A%94%E8%99%9F"><span class="nav-number">2.1.3.</span> <span class="nav-text">其他(有分隔號)</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#file"><span class="nav-number">2.2.</span> <span class="nav-text">file</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#open"><span class="nav-number">2.2.1.</span> <span class="nav-text">open</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#read"><span class="nav-number">2.2.2.</span> <span class="nav-text">read</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#map-unorder-map-set%E8%88%87%E5%85%B6%E5%AF%A6%E6%98%AF%E4%B8%80%E6%A8%A3%E7%9A%84%E6%9D%B1%E8%A5%BF"><span class="nav-number">2.3.</span> <span class="nav-text">map, unorder_map (set與其實是一樣的東西)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#string-operation"><span class="nav-number">2.4.</span> <span class="nav-text">string operation</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#cast"><span class="nav-number">2.4.1.</span> <span class="nav-text">cast</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#common-operations"><span class="nav-number">2.4.2.</span> <span class="nav-text">common operations</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#vector-operation"><span class="nav-number">2.5.</span> <span class="nav-text">vector operation</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#union-find"><span class="nav-number">2.6.</span> <span class="nav-text">union find</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#trie"><span class="nav-number">2.7.</span> <span class="nav-text">trie</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Python"><span class="nav-number">3.</span> <span class="nav-text">Python</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#stdin-2"><span class="nav-number">3.1.</span> <span class="nav-text">stdin</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#file-2"><span class="nav-number">3.2.</span> <span class="nav-text">file</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#dict-operations"><span class="nav-number">3.3.</span> <span class="nav-text">dict operations</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#string-operation-2"><span class="nav-number">3.4.</span> <span class="nav-text">string operation</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#list-operation"><span class="nav-number">3.5.</span> <span class="nav-text">list operation</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#deque-operation"><span class="nav-number">3.6.</span> <span class="nav-text">deque operation</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#union-find-2"><span class="nav-number">3.7.</span> <span class="nav-text">union find</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#trie-2"><span class="nav-number">3.8.</span> <span class="nav-text">trie</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#dp-tips"><span class="nav-number">3.9.</span> <span class="nav-text">dp tips</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Algo%E7%B6%93%E5%85%B8%E6%89%8B%E6%B3%95%E8%88%87%E9%A1%8C%E7%9B%AErecap"><span class="nav-number">4.</span> <span class="nav-text">Algo經典手法與題目recap</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#prefix-sum"><span class="nav-number">4.1.</span> <span class="nav-text">prefix sum</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%94%A8%E6%B3%95-5"><span class="nav-number">4.1.1.</span> <span class="nav-text">用法</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#static-index-sum"><span class="nav-number">4.1.2.</span> <span class="nav-text">static (index -&gt; sum)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#in-fly-sum-count-or-index"><span class="nav-number">4.1.3.</span> <span class="nav-text">in fly (sum -&gt; count or [index])</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Monotonic-stack"><span class="nav-number">4.2.</span> <span class="nav-text">Monotonic stack</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%94%A8%E6%B3%95-6"><span class="nav-number">4.2.1.</span> <span class="nav-text">用法</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%A4%BE%E5%87%BA%E5%8D%80%E9%96%93"><span class="nav-number">4.2.2.</span> <span class="nav-text">夾出區間</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%8E%92%E5%BA%8F"><span class="nav-number">4.2.3.</span> <span class="nav-text">排序</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%B8%8B%E4%B8%80%E5%80%8B%E6%9C%80%E5%A4%A7"><span class="nav-number">4.2.4.</span> <span class="nav-text">下一個最大</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%9B%A3"><span class="nav-number">4.2.5.</span> <span class="nav-text">難</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#binary-search-2"><span class="nav-number">4.3.</span> <span class="nav-text">binary search</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A1%8C%E7%9B%AE-4"><span class="nav-number">4.3.1.</span> <span class="nav-text">題目</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#sliding-window"><span class="nav-number">4.4.</span> <span class="nav-text">sliding window</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%9F%BA%E6%9C%AC"><span class="nav-number">4.4.1.</span> <span class="nav-text">基本</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A1%8C%E7%9B%AE-5"><span class="nav-number">4.4.2.</span> <span class="nav-text">題目</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#monotonic-queue"><span class="nav-number">4.4.3.</span> <span class="nav-text">monotonic queue</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#two-pointer-2"><span class="nav-number">4.5.</span> <span class="nav-text">two pointer</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#linked-list-vs-array"><span class="nav-number">4.5.1.</span> <span class="nav-text">linked list vs array</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#index-ptr-as-list"><span class="nav-number">4.5.2.</span> <span class="nav-text">index,ptr as list</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#classic"><span class="nav-number">4.5.3.</span> <span class="nav-text">classic</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#misc"><span class="nav-number">4.5.4.</span> <span class="nav-text">misc</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#heap"><span class="nav-number">4.6.</span> <span class="nav-text">heap</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#divide-and-conquer"><span class="nav-number">4.7.</span> <span class="nav-text">divide and conquer</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Dynamic-programming"><span class="nav-number">4.8.</span> <span class="nav-text">Dynamic programming</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#TODO-7"><span class="nav-number">4.8.1.</span> <span class="nav-text">TODO</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%94%A8%E9%80%94"><span class="nav-number">4.8.2.</span> <span class="nav-text">用途</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#from-start-or-end"><span class="nav-number">4.8.3.</span> <span class="nav-text">from start or end</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#bottom-up-%E8%88%87-top-down"><span class="nav-number">4.8.4.</span> <span class="nav-text">bottom-up 與 top-down</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#classic-2"><span class="nav-number">4.8.5.</span> <span class="nav-text">classic</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#hard"><span class="nav-number">4.8.6.</span> <span class="nav-text">hard</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#line-sweap"><span class="nav-number">4.9.</span> <span class="nav-text">line sweap</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#elegant-sol"><span class="nav-number">4.9.1.</span> <span class="nav-text">elegant sol</span></a></li></ol></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">zhengcf</p>
  <div class="site-description" itemprop="description">想到什麼就寫什麼</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">689</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">79</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">64</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">zhengcf</span>
</div>
  <div class="powered-by">Powered by <span class="exturl theme-link" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span> & <span class="exturl theme-link" data-url="aHR0cHM6Ly9tdXNlLnRoZW1lLW5leHQub3Jn">NexT.Muse</span>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  
  <script src="//cdn.jsdelivr.net/npm/quicklink@1/dist/quicklink.umd.js"></script>
  <script>
      window.addEventListener('load', () => {
      quicklink({
        timeout : 1000,
        priority: true,
        ignores : [uri => uri.includes('#'),uri => uri === 'https://littlebees.github.io/2021/07/competitive-programming-tips/',]
      });
      });
  </script>

</body>
</html>
