<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>leetcode-91 - Decode Ways | 記事本</title>
<meta name=keywords content="Dynamic Programming,String,seanprashad,Blind Curated 75,Top Interview Questions"><meta name=description content="動機
有backtrack的味道，但因為要往前看一格就變成dp"><meta name=author content="zhengcf"><link rel=canonical href=https://littlebees.github.io/2021/07/leetcode-91-decode-ways/><link crossorigin=anonymous href=/assets/css/stylesheet.b609c58d5c11bb90b1a54e04005d74ad1ddf22165eb79f5533967e57df9c3b50.css integrity="sha256-tgnFjVwRu5CxpU4EAF10rR3fIhZet59VM5Z+V9+cO1A=" rel="preload stylesheet" as=style><link rel=icon href=https://littlebees.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://littlebees.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://littlebees.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://littlebees.github.io/apple-touch-icon.png><link rel=mask-icon href=https://littlebees.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://littlebees.github.io/2021/07/leetcode-91-decode-ways/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="leetcode-91 - Decode Ways"><meta property="og:description" content="動機
有backtrack的味道，但因為要往前看一格就變成dp"><meta property="og:type" content="article"><meta property="og:url" content="https://littlebees.github.io/2021/07/leetcode-91-decode-ways/"><meta property="og:image" content="https://littlebees.github.io/images/papermod-cover.png"><meta property="article:section" content="posts"><meta property="article:published_time" content="2021-07-22T02:33:32+00:00"><meta property="article:modified_time" content="2021-07-22T02:33:32+00:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://littlebees.github.io/images/papermod-cover.png"><meta name=twitter:title content="leetcode-91 - Decode Ways"><meta name=twitter:description content="動機
有backtrack的味道，但因為要往前看一格就變成dp"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://littlebees.github.io/posts/"},{"@type":"ListItem","position":2,"name":"leetcode-91 - Decode Ways","item":"https://littlebees.github.io/2021/07/leetcode-91-decode-ways/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"leetcode-91 - Decode Ways","name":"leetcode-91 - Decode Ways","description":"動機 有backtrack的味道，但因為要往前看一格就變成dp\n","keywords":["Dynamic Programming","String","seanprashad","Blind Curated 75","Top Interview Questions"],"articleBody":"動機 有backtrack的味道，但因為要往前看一格就變成dp\nProblem A message containing letters from A-Z can be encoded into numbers using the following mapping:\n'A' -\u003e 1'B' -\u003e 2...'Z' -\u003e 26To decode an encoded message, all the digits must be grouped then mapped back into letters using the reverse of the mapping above (there may be multiple ways). For example, 11106 can be mapped into:\nAAJF with the grouping (1 1 10 6)KJF with the grouping (11 10 6)Note that the grouping (1 11 06) is invalid because 06 cannot be mapped into 'F' since 6 is different from 06.\nGiven a string s containing only digits, return the number of ways to decode it.\nThe answer is guaranteed to fit in a 32-bit integer.\nExample 1:\nInput: s = 12Output: 2Explanation: 12 could be decoded as AB (1 2) or L (12).Example 2:\nInput: s = 226Output: 3Explanation: 226 could be decoded as BZ (2 26), VF (22 6), or BBF (2 2 6).Example 3:\nInput: s = 0Output: 0Explanation: There is no character that is mapped to a number starting with 0.The only valid mappings with 0 are 'J' -\u003e 10 and 'T' -\u003e 20, neither of which start with 0.Hence, there are no valid ways to decode this since all digits need to be mapped.Example 4:\nInput: s = 06Output: 0Explanation: 06 cannot be mapped to F because of the leading zero (6 is different from 06). Constraints:\n1 \u003c= s.length \u003c= 100s contains only digits and may contain leading zero(s). Sol 定義dfs(i)是以i為終點的組合數 但我們還需要一個狀態來看前面的數字有沒有被其他2位數用過\nclass Solution: def numDecodings(self, s: str) -\u003e int: @cache def dfs(i,prev): if i \u003e= len(s): return 1 else: ret = dfs(i+1,True) if 1 \u003c= int(s[i]) \u003c 10 else 0 if prev and i-1 \u003e= 0 and 10 \u003c= int(s[i-1:i+1]) \u003c= 26: ret += dfs(i+1,False) return ret return dfs(0,False) ","wordCount":"299","inLanguage":"en","image":"https://littlebees.github.io/images/papermod-cover.png","datePublished":"2021-07-22T02:33:32Z","dateModified":"2021-07-22T02:33:32Z","author":{"@type":"Person","name":"zhengcf"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://littlebees.github.io/2021/07/leetcode-91-decode-ways/"},"publisher":{"@type":"Organization","name":"記事本","logo":{"@type":"ImageObject","url":"https://littlebees.github.io/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://littlebees.github.io/ accesskey=h title="記事本 (Alt + H)">記事本</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://littlebees.github.io/categories/ title=Categories><span>Categories</span></a></li><li><a href=https://littlebees.github.io/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://littlebees.github.io/tags/ title=Tags><span>Tags</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://littlebees.github.io/>Home</a>&nbsp;»&nbsp;<a href=https://littlebees.github.io/posts/>Posts</a></div><h1 class="post-title entry-hint-parent">leetcode-91 - Decode Ways</h1><div class=post-meta><span title='2021-07-22 02:33:32 +0000 UTC'>July 22, 2021</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;zhengcf</div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#%e5%8b%95%e6%a9%9f aria-label=動機>動機</a></li><li><a href=#problem aria-label=Problem>Problem</a></li><li><a href=#sol aria-label=Sol>Sol</a></li></ul></div></details></div><div class=post-content><h2 id=動機>動機<a hidden class=anchor aria-hidden=true href=#動機>#</a></h2><p>有backtrack的味道，但因為要往前看一格就變成dp</p><h2 id=problem>Problem<a hidden class=anchor aria-hidden=true href=#problem>#</a></h2><p>A message containing letters from <code>A-Z</code> can be <strong>encoded</strong> into numbers using the following mapping:</p><pre>'A' -> 1'B' -> 2...'Z' -> 26</pre><p>To <strong>decode</strong> an encoded message, all the digits must be grouped then mapped back into letters using the reverse of the mapping above (there may be multiple ways). For example, <code>11106</code> can be mapped into:</p><ul><li><code>AAJF</code> with the grouping <code>(1 1 10 6)</code></li><li><code>KJF</code> with the grouping <code>(11 10 6)</code></li></ul><p>Note that the grouping <code>(1 11 06)</code> is invalid because <code>06</code> cannot be mapped into <code>'F'</code> since <code>6</code> is different from <code>06</code>.</p><p>Given a string <code>s</code> containing only digits, return <em>the <strong>number</strong> of ways to <strong>decode</strong> it</em>.</p><p>The answer is guaranteed to fit in a <strong>32-bit</strong> integer.</p><p> </p><p><strong>Example 1:</strong></p><pre><strong>Input:</strong> s = 12<strong>Output:</strong> 2<strong>Explanation:</strong> 12 could be decoded as AB (1 2) or L (12).</pre><p><strong>Example 2:</strong></p><pre><strong>Input:</strong> s = 226<strong>Output:</strong> 3<strong>Explanation:</strong> 226 could be decoded as BZ (2 26), VF (22 6), or BBF (2 2 6).</pre><p><strong>Example 3:</strong></p><pre><strong>Input:</strong> s = 0<strong>Output:</strong> 0<strong>Explanation:</strong> There is no character that is mapped to a number starting with 0.The only valid mappings with 0 are 'J' -> 10 and 'T' -> 20, neither of which start with 0.Hence, there are no valid ways to decode this since all digits need to be mapped.</pre><p><strong>Example 4:</strong></p><pre><strong>Input:</strong> s = 06<strong>Output:</strong> 0<strong>Explanation:</strong> 06 cannot be mapped to F because of the leading zero (6 is different from 06).</pre><p> </p><p><strong>Constraints:</strong></p><ul><li><code>1 <= s.length <= 100</code></li><li><code>s</code> contains only digits and may contain leading zero(s).</li></ul><h2 id=sol>Sol<a hidden class=anchor aria-hidden=true href=#sol>#</a></h2><p>定義dfs(i)是以i為終點的組合數
但我們還需要一個狀態來看前面的數字有沒有被其他2位數用過</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>Solution</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>numDecodings</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>s</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>int</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=nd>@cache</span>
</span></span><span class=line><span class=cl>        <span class=k>def</span> <span class=nf>dfs</span><span class=p>(</span><span class=n>i</span><span class=p>,</span><span class=n>prev</span><span class=p>):</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=n>i</span> <span class=o>&gt;=</span> <span class=nb>len</span><span class=p>(</span><span class=n>s</span><span class=p>):</span>
</span></span><span class=line><span class=cl>                <span class=k>return</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>            <span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=n>ret</span> <span class=o>=</span> <span class=n>dfs</span><span class=p>(</span><span class=n>i</span><span class=o>+</span><span class=mi>1</span><span class=p>,</span><span class=kc>True</span><span class=p>)</span> <span class=k>if</span> <span class=mi>1</span> <span class=o>&lt;=</span> <span class=nb>int</span><span class=p>(</span><span class=n>s</span><span class=p>[</span><span class=n>i</span><span class=p>])</span> <span class=o>&lt;</span> <span class=mi>10</span> <span class=k>else</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl>                <span class=k>if</span> <span class=n>prev</span> <span class=ow>and</span> <span class=n>i</span><span class=o>-</span><span class=mi>1</span> <span class=o>&gt;=</span> <span class=mi>0</span> <span class=ow>and</span> <span class=mi>10</span> <span class=o>&lt;=</span> <span class=nb>int</span><span class=p>(</span><span class=n>s</span><span class=p>[</span><span class=n>i</span><span class=o>-</span><span class=mi>1</span><span class=p>:</span><span class=n>i</span><span class=o>+</span><span class=mi>1</span><span class=p>])</span> <span class=o>&lt;=</span> <span class=mi>26</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                    <span class=n>ret</span> <span class=o>+=</span> <span class=n>dfs</span><span class=p>(</span><span class=n>i</span><span class=o>+</span><span class=mi>1</span><span class=p>,</span><span class=kc>False</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                <span class=k>return</span> <span class=n>ret</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>dfs</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span><span class=kc>False</span><span class=p>)</span>
</span></span></code></pre></div></div><footer class=post-footer><ul class=post-tags><li><a href=https://littlebees.github.io/tags/dynamic-programming/>Dynamic Programming</a></li><li><a href=https://littlebees.github.io/tags/string/>String</a></li><li><a href=https://littlebees.github.io/tags/seanprashad/>Seanprashad</a></li><li><a href=https://littlebees.github.io/tags/blind-curated-75/>Blind Curated 75</a></li><li><a href=https://littlebees.github.io/tags/top-interview-questions/>Top Interview Questions</a></li></ul><nav class=paginav><a class=prev href=https://littlebees.github.io/2021/07/leetcode-128-longest-consecutive-sequence/><span class=title>« Prev</span><br><span>leetcode-128 - Longest Consecutive Sequence</span>
</a><a class=next href=https://littlebees.github.io/2021/07/leetcode-79-word-search/><span class=title>Next »</span><br><span>leetcode-79 - Word Search</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2024 <a href=https://littlebees.github.io/>記事本</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>