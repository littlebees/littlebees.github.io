<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>leetcode-304 - Range Sum Query 2D - Immutable | 記事本</title>
<meta name=keywords content="Prefix Sum,Matrix,Design,Array"><meta name=description content="動機
就是一維的推廣"><meta name=author content="zhengcf"><link rel=canonical href=https://littlebees.github.io/2020/11/leetcode-304-range-sum-query-2d-immutable/><link crossorigin=anonymous href=/assets/css/stylesheet.b609c58d5c11bb90b1a54e04005d74ad1ddf22165eb79f5533967e57df9c3b50.css integrity="sha256-tgnFjVwRu5CxpU4EAF10rR3fIhZet59VM5Z+V9+cO1A=" rel="preload stylesheet" as=style><link rel=icon href=https://littlebees.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://littlebees.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://littlebees.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://littlebees.github.io/apple-touch-icon.png><link rel=mask-icon href=https://littlebees.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="leetcode-304 - Range Sum Query 2D - Immutable"><meta property="og:description" content="動機
就是一維的推廣"><meta property="og:type" content="article"><meta property="og:url" content="https://littlebees.github.io/2020/11/leetcode-304-range-sum-query-2d-immutable/"><meta property="og:image" content="https://littlebees.github.io/images/papermod-cover.png"><meta property="article:section" content="posts"><meta property="article:published_time" content="2020-11-03T00:16:52+00:00"><meta property="article:modified_time" content="2020-11-03T00:16:52+00:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://littlebees.github.io/images/papermod-cover.png"><meta name=twitter:title content="leetcode-304 - Range Sum Query 2D - Immutable"><meta name=twitter:description content="動機
就是一維的推廣"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://littlebees.github.io/posts/"},{"@type":"ListItem","position":2,"name":"leetcode-304 - Range Sum Query 2D - Immutable","item":"https://littlebees.github.io/2020/11/leetcode-304-range-sum-query-2d-immutable/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"leetcode-304 - Range Sum Query 2D - Immutable","name":"leetcode-304 - Range Sum Query 2D - Immutable","description":"動機 就是一維的推廣\n","keywords":["Prefix Sum","Matrix","Design","Array"],"articleBody":"動機 就是一維的推廣\nProblem Given a 2D matrix matrix, handle multiple queries of the following type:\nCalculate the sum of the elements of matrix inside the rectangle defined by its upper left corner (row1, col1) and lower right corner (row2, col2).Implement the NumMatrix class:\nNumMatrix(int[][] matrix) Initializes the object with the integer matrix matrix.int sumRegion(int row1, int col1, int row2, int col2) Returns the sum of the elements of matrix inside the rectangle defined by its upper left corner (row1, col1) and lower right corner (row2, col2). Example 1:\nInput[NumMatrix, sumRegion, sumRegion, sumRegion][[[[3, 0, 1, 4, 2], [5, 6, 3, 2, 1], [1, 2, 0, 1, 5], [4, 1, 0, 1, 7], [1, 0, 3, 0, 5]]], [2, 1, 4, 3], [1, 1, 2, 2], [1, 2, 2, 4]]Output[null, 8, 11, 12]ExplanationNumMatrix numMatrix = new NumMatrix([[3, 0, 1, 4, 2], [5, 6, 3, 2, 1], [1, 2, 0, 1, 5], [4, 1, 0, 1, 7], [1, 0, 3, 0, 5]]);numMatrix.sumRegion(2, 1, 4, 3); // return 8 (i.e sum of the red rectangle)numMatrix.sumRegion(1, 1, 2, 2); // return 11 (i.e sum of the green rectangle)numMatrix.sumRegion(1, 2, 2, 4); // return 12 (i.e sum of the blue rectangle) Constraints:\nm == matrix.lengthn == matrix[i].length1 \u003c= m, n \u003c= 200-105 \u003c= matrix[i][j] \u003c= 1050 \u003c= row1 \u003c= row2 \u003c m0 \u003c= col1 \u003c= col2 \u003c nAt most 104 calls will be made to sumRegion. Ver1: WA 假設 1 2 3 4 5 如果要求2 3 4可以用 1 2 3 4去減1，所以取的起點是原本的起點再往後推一格後再扣\n不過如果原本的起點是0，像求1 2 3這樣就尷尬了\nclass NumMatrix: def __init__(self, ms: List[List[int]]): self.origing_ms = ms for i in range(0,len(ms)): acc = 0 for j in range(0,len(ms[i])): acc += ms[i][j] ms[i][j] = acc #(acc,ms[i][j]) #for j in range(0,len(ms[0])): # acc = 0 # for i in range(0,len(ms)): # acc += ms[i][j][1] # ms[i][j] = (ms[i][j][0],acc) self.ms = ms def sumRegion(self, r1: int, c1: int, r2: int, c2: int) -\u003e int: if r1 == r2 and c1 == c2: return self.origing_ms[r1][c1] else: ret = 0 for i in range(r1,r2+1): ret += self.ms[i][c2] - self.ms[i][c1-1] return ret Ver2: AC 解法是替所有非法index回傳0，這樣不論怎麼加或減都沒事\nclass NumMatrix: def __init__(self, ms: List[List[int]]): #self.origing_ms = [[x for x in l] for l in ms] for i in range(0,len(ms)): acc = 0 for j in range(0,len(ms[i])): acc += ms[i][j] ms[i][j] = acc #(acc,ms[i][j]) #for j in range(0,len(ms[0])): # acc = 0 # for i in range(0,len(ms)): # acc += ms[i][j][1] # ms[i][j] = (ms[i][j][0],acc) self.ms = ms self.w = len(ms[0]) if len(ms) \u003e 0 else -1 self.h = len(ms) def getMS(self,i,j): if i \u003c 0 or j \u003c 0 or i \u003e= self.h or j \u003e= self.w: return 0 else: return self.ms[i][j] def sumRegion(self, r1: int, c1: int, r2: int, c2: int) -\u003e int: #if r1 == r2 and c1 == c2: # return self.origing_ms[r1][c1] #else: ret = 0 for i in range(r1,r2+1): #print(i,c1,c2,self.getMS(i,c2),self.getMS(i,c1-1)) ret += self.getMS(i,c2) - self.getMS(i,c1-1) return ret ","wordCount":"472","inLanguage":"en","datePublished":"2020-11-03T00:16:52Z","dateModified":"2020-11-03T00:16:52Z","author":{"@type":"Person","name":"zhengcf"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://littlebees.github.io/2020/11/leetcode-304-range-sum-query-2d-immutable/"},"publisher":{"@type":"Organization","name":"記事本","logo":{"@type":"ImageObject","url":"https://littlebees.github.io/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://littlebees.github.io/ accesskey=h title="記事本 (Alt + H)">記事本</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://littlebees.github.io/categories/ title=Categories><span>Categories</span></a></li><li><a href=https://littlebees.github.io/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://littlebees.github.io/tags/ title=Tags><span>Tags</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://littlebees.github.io/>Home</a>&nbsp;»&nbsp;<a href=https://littlebees.github.io/posts/>Posts</a></div><h1 class="post-title entry-hint-parent">leetcode-304 - Range Sum Query 2D - Immutable</h1><div class=post-meta><span title='2020-11-03 00:16:52 +0000 UTC'>November 3, 2020</span>&nbsp;·&nbsp;3 min&nbsp;·&nbsp;zhengcf</div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#%e5%8b%95%e6%a9%9f aria-label=動機>動機</a></li><li><a href=#problem aria-label=Problem>Problem</a></li><li><a href=#ver1-wa aria-label="Ver1: WA">Ver1: WA</a></li><li><a href=#ver2-ac aria-label="Ver2: AC">Ver2: AC</a></li></ul></div></details></div><div class=post-content><h2 id=動機>動機<a hidden class=anchor aria-hidden=true href=#動機>#</a></h2><p>就是一維的推廣</p><h2 id=problem>Problem<a hidden class=anchor aria-hidden=true href=#problem>#</a></h2><p>Given a 2D matrix <code>matrix</code>, handle multiple queries of the following type:</p><ol><li>Calculate the <strong>sum</strong> of the elements of <code>matrix</code> inside the rectangle defined by its <strong>upper left corner</strong> <code>(row1, col1)</code> and <strong>lower right corner</strong> <code>(row2, col2)</code>.</li></ol><p>Implement the NumMatrix class:</p><ul><li><code>NumMatrix(int[][] matrix)</code> Initializes the object with the integer matrix <code>matrix</code>.</li><li><code>int sumRegion(int row1, int col1, int row2, int col2)</code> Returns the <strong>sum</strong> of the elements of <code>matrix</code> inside the rectangle defined by its <strong>upper left corner</strong> <code>(row1, col1)</code> and <strong>lower right corner</strong> <code>(row2, col2)</code>.</li></ul><p> </p><p><strong>Example 1:</strong></p><img alt src=https://assets.leetcode.com/uploads/2021/03/14/sum-grid.jpg style=width:415px;height:415px><pre><strong>Input</strong>[NumMatrix, sumRegion, sumRegion, sumRegion][[[[3, 0, 1, 4, 2], [5, 6, 3, 2, 1], [1, 2, 0, 1, 5], [4, 1, 0, 1, 7], [1, 0, 3, 0, 5]]], [2, 1, 4, 3], [1, 1, 2, 2], [1, 2, 2, 4]]<strong>Output</strong>[null, 8, 11, 12]<strong>Explanation</strong>NumMatrix numMatrix = new NumMatrix([[3, 0, 1, 4, 2], [5, 6, 3, 2, 1], [1, 2, 0, 1, 5], [4, 1, 0, 1, 7], [1, 0, 3, 0, 5]]);numMatrix.sumRegion(2, 1, 4, 3); // return 8 (i.e sum of the red rectangle)numMatrix.sumRegion(1, 1, 2, 2); // return 11 (i.e sum of the green rectangle)numMatrix.sumRegion(1, 2, 2, 4); // return 12 (i.e sum of the blue rectangle)</pre><p> </p><p><strong>Constraints:</strong></p><ul><li><code>m == matrix.length</code></li><li><code>n == matrix[i].length</code></li><li><code>1 <= m, n <= 200</code></li><li><code>-10<sup>5</sup> <= matrix[i][j] <= 10<sup>5</sup></code></li><li><code>0 <= row1 <= row2 < m</code></li><li><code>0 <= col1 <= col2 < n</code></li><li>At most <code>10<sup>4</sup></code> calls will be made to <code>sumRegion</code>.</li></ul><h2 id=ver1-wa>Ver1: WA<a hidden class=anchor aria-hidden=true href=#ver1-wa>#</a></h2><p>假設 <code>1 2 3 4 5</code> 如果要求<code>2 3 4</code>可以用
<code>1 2 3 4</code>去減<code>1</code>，所以取的起點是原本的起點再往後推一格後再扣</p><p>不過如果原本的起點是0，像求<code>1 2 3</code>這樣就尷尬了</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>NumMatrix</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>ms</span><span class=p>:</span> <span class=n>List</span><span class=p>[</span><span class=n>List</span><span class=p>[</span><span class=nb>int</span><span class=p>]]):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>origing_ms</span> <span class=o>=</span> <span class=n>ms</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span><span class=nb>len</span><span class=p>(</span><span class=n>ms</span><span class=p>)):</span>
</span></span><span class=line><span class=cl>            <span class=n>acc</span> <span class=o>=</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl>            <span class=k>for</span> <span class=n>j</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span><span class=nb>len</span><span class=p>(</span><span class=n>ms</span><span class=p>[</span><span class=n>i</span><span class=p>])):</span>
</span></span><span class=line><span class=cl>                <span class=n>acc</span> <span class=o>+=</span> <span class=n>ms</span><span class=p>[</span><span class=n>i</span><span class=p>][</span><span class=n>j</span><span class=p>]</span>
</span></span><span class=line><span class=cl>                <span class=n>ms</span><span class=p>[</span><span class=n>i</span><span class=p>][</span><span class=n>j</span><span class=p>]</span> <span class=o>=</span> <span class=n>acc</span> <span class=c1>#(acc,ms[i][j])</span>
</span></span><span class=line><span class=cl>        <span class=c1>#for j in range(0,len(ms[0])):</span>
</span></span><span class=line><span class=cl>        <span class=c1>#    acc = 0</span>
</span></span><span class=line><span class=cl>        <span class=c1>#    for i in range(0,len(ms)):</span>
</span></span><span class=line><span class=cl>        <span class=c1>#        acc += ms[i][j][1]</span>
</span></span><span class=line><span class=cl>        <span class=c1>#        ms[i][j] = (ms[i][j][0],acc)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>ms</span> <span class=o>=</span> <span class=n>ms</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>sumRegion</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>r1</span><span class=p>:</span> <span class=nb>int</span><span class=p>,</span> <span class=n>c1</span><span class=p>:</span> <span class=nb>int</span><span class=p>,</span> <span class=n>r2</span><span class=p>:</span> <span class=nb>int</span><span class=p>,</span> <span class=n>c2</span><span class=p>:</span> <span class=nb>int</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>int</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=n>r1</span> <span class=o>==</span> <span class=n>r2</span> <span class=ow>and</span> <span class=n>c1</span> <span class=o>==</span> <span class=n>c2</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>origing_ms</span><span class=p>[</span><span class=n>r1</span><span class=p>][</span><span class=n>c1</span><span class=p>]</span>
</span></span><span class=line><span class=cl>        <span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=n>ret</span> <span class=o>=</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl>            <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>r1</span><span class=p>,</span><span class=n>r2</span><span class=o>+</span><span class=mi>1</span><span class=p>):</span>
</span></span><span class=line><span class=cl>                <span class=n>ret</span> <span class=o>+=</span> <span class=bp>self</span><span class=o>.</span><span class=n>ms</span><span class=p>[</span><span class=n>i</span><span class=p>][</span><span class=n>c2</span><span class=p>]</span> <span class=o>-</span> <span class=bp>self</span><span class=o>.</span><span class=n>ms</span><span class=p>[</span><span class=n>i</span><span class=p>][</span><span class=n>c1</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=n>ret</span>
</span></span></code></pre></div><h2 id=ver2-ac>Ver2: AC<a hidden class=anchor aria-hidden=true href=#ver2-ac>#</a></h2><p>解法是替所有非法index回傳0，這樣不論怎麼加或減都沒事</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>NumMatrix</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>ms</span><span class=p>:</span> <span class=n>List</span><span class=p>[</span><span class=n>List</span><span class=p>[</span><span class=nb>int</span><span class=p>]]):</span>
</span></span><span class=line><span class=cl>        <span class=c1>#self.origing_ms = [[x for x in l] for l in ms]</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span><span class=nb>len</span><span class=p>(</span><span class=n>ms</span><span class=p>)):</span>
</span></span><span class=line><span class=cl>            <span class=n>acc</span> <span class=o>=</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl>            <span class=k>for</span> <span class=n>j</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span><span class=nb>len</span><span class=p>(</span><span class=n>ms</span><span class=p>[</span><span class=n>i</span><span class=p>])):</span>
</span></span><span class=line><span class=cl>                <span class=n>acc</span> <span class=o>+=</span> <span class=n>ms</span><span class=p>[</span><span class=n>i</span><span class=p>][</span><span class=n>j</span><span class=p>]</span>
</span></span><span class=line><span class=cl>                <span class=n>ms</span><span class=p>[</span><span class=n>i</span><span class=p>][</span><span class=n>j</span><span class=p>]</span> <span class=o>=</span> <span class=n>acc</span> <span class=c1>#(acc,ms[i][j])</span>
</span></span><span class=line><span class=cl>        <span class=c1>#for j in range(0,len(ms[0])):</span>
</span></span><span class=line><span class=cl>        <span class=c1>#    acc = 0</span>
</span></span><span class=line><span class=cl>        <span class=c1>#    for i in range(0,len(ms)):</span>
</span></span><span class=line><span class=cl>        <span class=c1>#        acc += ms[i][j][1]</span>
</span></span><span class=line><span class=cl>        <span class=c1>#        ms[i][j] = (ms[i][j][0],acc)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>ms</span> <span class=o>=</span> <span class=n>ms</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>w</span> <span class=o>=</span> <span class=nb>len</span><span class=p>(</span><span class=n>ms</span><span class=p>[</span><span class=mi>0</span><span class=p>])</span> <span class=k>if</span> <span class=nb>len</span><span class=p>(</span><span class=n>ms</span><span class=p>)</span> <span class=o>&gt;</span> <span class=mi>0</span> <span class=k>else</span> <span class=o>-</span><span class=mi>1</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>h</span> <span class=o>=</span> <span class=nb>len</span><span class=p>(</span><span class=n>ms</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>getMS</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span><span class=n>i</span><span class=p>,</span><span class=n>j</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=mi>0</span> <span class=ow>or</span> <span class=n>j</span> <span class=o>&lt;</span> <span class=mi>0</span> <span class=ow>or</span> <span class=n>i</span> <span class=o>&gt;=</span> <span class=bp>self</span><span class=o>.</span><span class=n>h</span> <span class=ow>or</span> <span class=n>j</span> <span class=o>&gt;=</span> <span class=bp>self</span><span class=o>.</span><span class=n>w</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl>        <span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>ms</span><span class=p>[</span><span class=n>i</span><span class=p>][</span><span class=n>j</span><span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>sumRegion</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>r1</span><span class=p>:</span> <span class=nb>int</span><span class=p>,</span> <span class=n>c1</span><span class=p>:</span> <span class=nb>int</span><span class=p>,</span> <span class=n>r2</span><span class=p>:</span> <span class=nb>int</span><span class=p>,</span> <span class=n>c2</span><span class=p>:</span> <span class=nb>int</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>int</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=c1>#if r1 == r2 and c1 == c2:</span>
</span></span><span class=line><span class=cl>        <span class=c1>#    return self.origing_ms[r1][c1]</span>
</span></span><span class=line><span class=cl>        <span class=c1>#else:</span>
</span></span><span class=line><span class=cl>        <span class=n>ret</span> <span class=o>=</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>r1</span><span class=p>,</span><span class=n>r2</span><span class=o>+</span><span class=mi>1</span><span class=p>):</span>
</span></span><span class=line><span class=cl>            <span class=c1>#print(i,c1,c2,self.getMS(i,c2),self.getMS(i,c1-1))</span>
</span></span><span class=line><span class=cl>            <span class=n>ret</span> <span class=o>+=</span> <span class=bp>self</span><span class=o>.</span><span class=n>getMS</span><span class=p>(</span><span class=n>i</span><span class=p>,</span><span class=n>c2</span><span class=p>)</span> <span class=o>-</span> <span class=bp>self</span><span class=o>.</span><span class=n>getMS</span><span class=p>(</span><span class=n>i</span><span class=p>,</span><span class=n>c1</span><span class=o>-</span><span class=mi>1</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>ret</span>
</span></span></code></pre></div></div><footer class=post-footer><ul class=post-tags><li><a href=https://littlebees.github.io/tags/prefix-sum/>Prefix Sum</a></li><li><a href=https://littlebees.github.io/tags/matrix/>Matrix</a></li><li><a href=https://littlebees.github.io/tags/design/>Design</a></li><li><a href=https://littlebees.github.io/tags/array/>Array</a></li></ul><nav class=paginav><a class=prev href=https://littlebees.github.io/2020/11/leetcode-213-house-robber-ii/><span class=title>« Prev</span><br><span>leetcode-213 - House Robber II</span>
</a><a class=next href=https://littlebees.github.io/2020/11/leetcode-200-number-of-islands/><span class=title>Next »</span><br><span>leetcode-200 - Number of Islands</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2024 <a href=https://littlebees.github.io/>記事本</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>