<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>leetcode-623 - Add One Row to Tree | 記事本</title>
<meta name=keywords content="Binary Tree,Breadth-First Search,Depth-First Search,Tree,Leetcode"><meta name=description content="動機
從bottom重建tree
以後是不是應該整理dfs在tree上的用法?"><meta name=author content="zhengcf"><link rel=canonical href=https://littlebees.github.io/2022/07/leetcode-623-add-one-row-to-tree/><link crossorigin=anonymous href=/assets/css/stylesheet.b609c58d5c11bb90b1a54e04005d74ad1ddf22165eb79f5533967e57df9c3b50.css integrity="sha256-tgnFjVwRu5CxpU4EAF10rR3fIhZet59VM5Z+V9+cO1A=" rel="preload stylesheet" as=style><link rel=icon href=https://littlebees.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://littlebees.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://littlebees.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://littlebees.github.io/apple-touch-icon.png><link rel=mask-icon href=https://littlebees.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://littlebees.github.io/2022/07/leetcode-623-add-one-row-to-tree/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="leetcode-623 - Add One Row to Tree"><meta property="og:description" content="動機
從bottom重建tree
以後是不是應該整理dfs在tree上的用法?"><meta property="og:type" content="article"><meta property="og:url" content="https://littlebees.github.io/2022/07/leetcode-623-add-one-row-to-tree/"><meta property="og:image" content="https://littlebees.github.io/images/papermod-cover.png"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-07-30T10:43:07+00:00"><meta property="article:modified_time" content="2022-07-30T10:43:07+00:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://littlebees.github.io/images/papermod-cover.png"><meta name=twitter:title content="leetcode-623 - Add One Row to Tree"><meta name=twitter:description content="動機
從bottom重建tree
以後是不是應該整理dfs在tree上的用法?"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://littlebees.github.io/posts/"},{"@type":"ListItem","position":2,"name":"leetcode-623 - Add One Row to Tree","item":"https://littlebees.github.io/2022/07/leetcode-623-add-one-row-to-tree/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"leetcode-623 - Add One Row to Tree","name":"leetcode-623 - Add One Row to Tree","description":"動機 從bottom重建tree\n以後是不是應該整理dfs在tree上的用法?\n","keywords":["Binary Tree","Breadth-First Search","Depth-First Search","Tree","Leetcode"],"articleBody":"動機 從bottom重建tree\n以後是不是應該整理dfs在tree上的用法?\nProblem Given the root of a binary tree and two integers val and depth, add a row of nodes with value val at the given depth depth.\nNote that the root node is at depth 1.\nThe adding rule is:\nGiven the integer depth, for each not Leetcode tree node cur at the depth depth - 1, create two tree nodes with value val as cur's left subtree root and right subtree root.cur's original left subtree should be the left subtree of the new left subtree root.cur's original right subtree should be the right subtree of the new right subtree root.If depth == 1 that means there is no depth depth - 1 at all, then create a tree node with value val as the new root of the whole original tree, and the original tree is the new root's left subtree. Example 1:\nInput: root = [4,2,6,3,1,5], val = 1, depth = 2Output: [4,1,1,2,null,null,6,3,1,5]Example 2:\nInput: root = [4,2,null,3,1], val = 1, depth = 3Output: [4,2,null,1,1,3,null,null,1] Constraints:\nThe number of nodes in the tree is in the range [1, 104].The depth of the tree is in the range [1, 104].-100 \u003c= Node.val \u003c= 100-105 \u003c= val \u003c= 1051 \u003c= depth \u003c= the depth of tree + 1 sol class Solution: def addOneRow(self, root: Optional[TreeNode], val: int, depth: int, left = True) -\u003e Optional[TreeNode]: if depth == 0: return root elif depth == 1: ret = TreeNode(val) (ret.left if left else ret.right) = root return ret else: if not root: return root else: root.left = self.addOneRow(root.left, val, depth-1, True) root.right = self.addOneRow(root.right, val, depth-1, False) return root ","wordCount":"270","inLanguage":"en","image":"https://littlebees.github.io/images/papermod-cover.png","datePublished":"2022-07-30T10:43:07Z","dateModified":"2022-07-30T10:43:07Z","author":{"@type":"Person","name":"zhengcf"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://littlebees.github.io/2022/07/leetcode-623-add-one-row-to-tree/"},"publisher":{"@type":"Organization","name":"記事本","logo":{"@type":"ImageObject","url":"https://littlebees.github.io/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://littlebees.github.io/ accesskey=h title="記事本 (Alt + H)">記事本</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://littlebees.github.io/categories/ title=Categories><span>Categories</span></a></li><li><a href=https://littlebees.github.io/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://littlebees.github.io/tags/ title=Tags><span>Tags</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://littlebees.github.io/>Home</a>&nbsp;»&nbsp;<a href=https://littlebees.github.io/posts/>Posts</a></div><h1 class="post-title entry-hint-parent">leetcode-623 - Add One Row to Tree</h1><div class=post-meta><span title='2022-07-30 10:43:07 +0000 UTC'>July 30, 2022</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;zhengcf</div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#%e5%8b%95%e6%a9%9f aria-label=動機>動機</a></li><li><a href=#problem aria-label=Problem>Problem</a></li><li><a href=#sol aria-label=sol>sol</a></li></ul></div></details></div><div class=post-content><h2 id=動機>動機<a hidden class=anchor aria-hidden=true href=#動機>#</a></h2><p>從bottom重建tree</p><p>以後是不是應該整理dfs在tree上的用法?</p><h2 id=problem>Problem<a hidden class=anchor aria-hidden=true href=#problem>#</a></h2><p>Given the <code>root</code> of a binary tree and two integers <code>val</code> and <code>depth</code>, add a row of nodes with value <code>val</code> at the given depth <code>depth</code>.</p><p>Note that the <code>root</code> node is at depth <code>1</code>.</p><p>The adding rule is:</p><ul><li>Given the integer <code>depth</code>, for each not Leetcode tree node <code>cur</code> at the depth <code>depth - 1</code>, create two tree nodes with value <code>val</code> as <code>cur</code>'s left subtree root and right subtree root.</li><li><code>cur</code>'s original left subtree should be the left subtree of the new left subtree root.</li><li><code>cur</code>'s original right subtree should be the right subtree of the new right subtree root.</li><li>If <code>depth == 1</code> that means there is no depth <code>depth - 1</code> at all, then create a tree node with value <code>val</code> as the new root of the whole original tree, and the original tree is the new root's left subtree.</li></ul><p> </p><p><strong>Example 1:</strong></p><img alt src=https://assets.leetcode.com/uploads/2021/03/15/addrow-tree.jpg style=width:500px;height:231px><pre><strong>Input:</strong> root = [4,2,6,3,1,5], val = 1, depth = 2<strong>Output:</strong> [4,1,1,2,null,null,6,3,1,5]</pre><p><strong>Example 2:</strong></p><img alt src=https://assets.leetcode.com/uploads/2021/03/11/add2-tree.jpg style=width:500px;height:277px><pre><strong>Input:</strong> root = [4,2,null,3,1], val = 1, depth = 3<strong>Output:</strong> [4,2,null,1,1,3,null,null,1]</pre><p> </p><p><strong>Constraints:</strong></p><ul><li>The number of nodes in the tree is in the range <code>[1, 10<sup>4</sup>]</code>.</li><li>The depth of the tree is in the range <code>[1, 10<sup>4</sup>]</code>.</li><li><code>-100 <= Node.val <= 100</code></li><li><code>-10<sup>5</sup> <= val <= 10<sup>5</sup></code></li><li><code>1 <= depth <= the depth of tree + 1</code></li></ul><h2 id=sol>sol<a hidden class=anchor aria-hidden=true href=#sol>#</a></h2><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>Solution</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>addOneRow</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>root</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=n>TreeNode</span><span class=p>],</span> <span class=n>val</span><span class=p>:</span> <span class=nb>int</span><span class=p>,</span> <span class=n>depth</span><span class=p>:</span> <span class=nb>int</span><span class=p>,</span> <span class=n>left</span> <span class=o>=</span> <span class=kc>True</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Optional</span><span class=p>[</span><span class=n>TreeNode</span><span class=p>]:</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=n>depth</span> <span class=o>==</span> <span class=mi>0</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=n>root</span>
</span></span><span class=line><span class=cl>        <span class=k>elif</span> <span class=n>depth</span> <span class=o>==</span> <span class=mi>1</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=n>ret</span> <span class=o>=</span> <span class=n>TreeNode</span><span class=p>(</span><span class=n>val</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=p>(</span><span class=n>ret</span><span class=o>.</span><span class=n>left</span> <span class=k>if</span> <span class=n>left</span> <span class=k>else</span> <span class=n>ret</span><span class=o>.</span><span class=n>right</span><span class=p>)</span> <span class=o>=</span> <span class=n>root</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=n>ret</span>
</span></span><span class=line><span class=cl>        <span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=ow>not</span> <span class=n>root</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=k>return</span> <span class=n>root</span>
</span></span><span class=line><span class=cl>            <span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=n>root</span><span class=o>.</span><span class=n>left</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>addOneRow</span><span class=p>(</span><span class=n>root</span><span class=o>.</span><span class=n>left</span><span class=p>,</span> <span class=n>val</span><span class=p>,</span> <span class=n>depth</span><span class=o>-</span><span class=mi>1</span><span class=p>,</span> <span class=kc>True</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                <span class=n>root</span><span class=o>.</span><span class=n>right</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>addOneRow</span><span class=p>(</span><span class=n>root</span><span class=o>.</span><span class=n>right</span><span class=p>,</span> <span class=n>val</span><span class=p>,</span> <span class=n>depth</span><span class=o>-</span><span class=mi>1</span><span class=p>,</span> <span class=kc>False</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                <span class=k>return</span> <span class=n>root</span>
</span></span></code></pre></div></div><footer class=post-footer><ul class=post-tags><li><a href=https://littlebees.github.io/tags/binary-tree/>Binary Tree</a></li><li><a href=https://littlebees.github.io/tags/breadth-first-search/>Breadth-First Search</a></li><li><a href=https://littlebees.github.io/tags/depth-first-search/>Depth-First Search</a></li><li><a href=https://littlebees.github.io/tags/tree/>Tree</a></li><li><a href=https://littlebees.github.io/tags/leetcode/>Leetcode</a></li></ul><nav class=paginav><a class=prev href=https://littlebees.github.io/2022/07/leetcode-538-convert-bst-to-greater-tree/><span class=title>« Prev</span><br><span>leetcode-538 - Convert BST to Greater Tree</span>
</a><a class=next href=https://littlebees.github.io/2022/07/leetcode-449-serialize-and-deserialize-bst/><span class=title>Next »</span><br><span>leetcode-449 - Serialize and Deserialize BST</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2024 <a href=https://littlebees.github.io/>記事本</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>